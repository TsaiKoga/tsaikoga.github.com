---
layout: post
title: "Linux的文件系统"
date: 2013-10-22 09:49
comments: true
categories: [Linux]
---

---------------------------------------------------------
###文件系统：

我们都知道Linux的文件系统层次结构是一棵树，以"/"表示的为最上层的目录。

**example:**

Ubuntu文件系统示意图：

![无法显示图片](/images/posts/2013-10-22/ubuntu_file_system.png "Ubuntu文件系统")

------------------------------------------------------------

####定义:

> **文件:** 是文件系统中存储数据的一个命名**对象**。即使是一个**空文件**，它也包含**用户数据**，仍然为操作系统提供其他信息。


> **目录:** 其中包含许多文件项目的一类**特殊文件**。支持文件系统的层次结构。系统中每个文件都登记在一个目录中。


> **子目录：** 被包含在另一个目录中的目录。除了root目录以外，所有的目录都是子目录，并且有他们的父目录。**root目录就作为自己的父目录**。


> **文件名：** 用来标志文件的字符串，保存在一个**目录文件项**中。

-----------------------------------------------------------

####文件结构：

文件的成分：无论文件是一个程序，一个文档，一个数据库，还是一个目录，操作系统都会赋予它如下所示的同样的结构：

- **文件索引**：又称**I节点**，是文件系统结构中包含**相应文件信息**的**一个记录**。这些信息包括文件权限、文件主、文件大小等。

- **数据**： 文件的实际内容，可以是空，可以非常大，并且有自己的结构。

  文件名规范：

	> （1）除了写先**（“/”）和空字符（ASCII字符“\0”）**以外，文件名可以包含任意的ASCII字符，因为这两个字符被核心**当作标识路径名的特殊字符**来解释。

	> （2）Linux**区分大小写**。

	> （3）以**圆点（.）开头**的文件为**隐含文件**。


--------------------------------------------------------

####文件类型：

- **普通文件：**

普通文件也称规范文件，包含**各种长度的字符串**。核心对这些**数据没有进行结构化**，只是作为**有序的字符序列**把它提交给应用程序。应用程序**自己组织和解释**这些数据。

> (1)**文本文件**：有ASCII字符构成。

> (2)**数据文件**：来自**应用程序**的**数字型和文本型数据**组成，例如：电子表格，数据库及字处理文档。

> (3)**可执行的二进制文件**：有机器指令和数据构成。

*命令：指定文件的类型（可将多个文件作为参数）*

    $ file 文件名 [文件名...]

- **目录文件：**

目录文件也**包含数据**，但与普通文件的差别是：核心对这些数据进行**结构处理**，即它是**有成对的“I节点号/文件名”**构成的**列表**。

> - I节点号是检索I节点表的下标，**I节点中存放有文件的状态信息**。


> - 每个目录的**第一项都表示目录本身**，用“点（.）”作文它的文件名，每个目录的**第二项的名字用“点点（..）”表示**。这就是当你输入ls显示第一二项是.和..的原因。


> - 当文件**添加**到一个目录时，改目录的**尺寸会加大，以便容纳新文件名**。当**删除文件**时，目录的尺寸**并不会减小**，而是核心对**该目录项上做特殊标识**，一边下次添加一个文件时**重新使用**它。ls不会列出这些未被使用的项。


- **设备文件**

是一种特别文件，除了在其文件I节点中存放属性信息外，不包含任何数据。系统利用他们来标记各个设备驱动器，核心使用它们与硬件设备通信。

> - 字符设备：最常用的设备文件，允许I/O传送任意大小的数据，取决于设备本身的容量。使用这种接口的设备：终端，打印机及鼠标。


> - 块设备：利用核心缓冲区的自动缓存机制。缓存区进行I/O传送总是已KB为单位。使用这种接口的设备包括硬盘，软盘和RAM盘。


tty可显示设备文件：
    $ tty   #=> /dev/pts/1

_注意： 设备文件存放在"/dev/"目录下_

------------------------------------------------------------

- **符号链接文件：** 存放的**数据**是文件系统**通向文件的路径**。当使用符号链接文件时，核心**自动访问所保存这个路径**。

