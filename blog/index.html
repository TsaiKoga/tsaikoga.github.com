
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TsaiKoga Blog</title>
  <meta name="author" content="TsaiKoga">

  
  <meta name="description" content="Linux是一个多用户，多任务操作系统。这意味多个用户可以同时使用一个操作系统。虽然便利，但也带来了许多潜在的威胁。
为了解决这些安全性问题,Linux为用户设置了权限。 用户 Linxu系统规定了4中不类型的用户： 1. 超级用户(root) 2. 文件主(owner) 3. 同组用户( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://TsaiKoga.github.com/blog">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TsaiKoga Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Vollkorn:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Cabin' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42786505-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">TsaiKoga Blog</a></h1>
</hgroup>

</header>
<div class="navi">
<ul>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/aboutme/">Author</a></li>
</ul>
</div>

  <div id="main">
    <div id="content">
      


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/07/linuxyong-hu-he-quan-xian/">Linux用户和权限</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-07T16:14:00+08:00" pubdate data-updated="true">Nov 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Linux是一个多用户，多任务操作系统。这意味多个用户可以同时使用一个操作系统。虽然便利，但也带来了许多潜在的威胁。
为了解决这些安全性问题,Linux为用户设置了权限。</p>

<h2>用户</h2>

<p>Linxu系统规定了4中不类型的用户：
 1. 超级用户(root)
 2. 文件主(owner)
 3. 同组用户(group)
 4. 可以访问系统的其他用户(others)</p>

<p>用户具有3种不同的存取权限：
 1. 读&reg;;             二进制：100; 十进制：4
 2. 写(w);             二进制：010; 十进制：2
 3. 可执行或查询(x);   二进制：001; 十进制：1</p>

<hr />

<p>他们从左到右排列代表一个用户对文件或目录的存取权限。</p>

<p>可以使用 ls -d 查看目录文件的使用权限。如以下信息：（这些信息都包含在I节点，可以通过 ls -i/&mdash;inode 查看）</p>

<pre><code>-rwxr-xr--  2  tsaikoga  group  198  Sep  8  14:06  ..
</code></pre>

<ol>
<li>第一个字段中第一个字符标识文件类型，有如下几种表示：</li>
<li>- 普通文件。</li>
<li>d 目录。</li>
<li>b 块设备。</li>
<li>c 字符设备。</li>
<li><p>l 符号链接文件。</p></li>
<li><p>随后9个字符是用户的存取权限:</p></li>
<li>前三个rwx代表可读，可写，可执行。十进制：7；</li>
<li>接着三个代表十进制: 5；</li>
<li>最后十进制为：4；</li>
<li>当为-时，代表没有权限；</li>
<li>当为 s 时，代表文件执行时，把该文件UID或GID赋予执行进程的UID（用户ID）或GID（组ID）；</li>
<li><p>当为 t 时，设置了粘着标志位（留在内存，不被换出）。如果该文件是目录，则在改目录的文件只能被root或文件主删除。如果是可执行文件，该文件执行后，指向其正文段的指针仍留在内存;这样再次执行时，系统能更快地装入文件。</p></li>
<li><p>表示文件链接数</p></li>
<li><p>文件主</p></li>
<li><p>文件所属的组</p></li>
<li><p>文件容量</p></li>
<li><p>修改日期</p></li>
<li><p>文件名</p></li>
</ol>


<hr />

<h2>改变文件权限</h2>

<p>可以通过两个命令改变文件权限：</p>

<ul>
<li><p>chmod
用于改变或设置文件或目录的存取权限。</p></li>
<li><p>chown
用于改变某个文件或目录的所有者或所属组。</p></li>
</ul>

</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/06/xiang-mu-dai-ma-shi-xian/">项目代码实现</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-06T13:14:00+08:00" pubdate data-updated="true">Nov 6<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;转眼间已经到了大四，想想大三和暑假在做的项目，自己在其中参与开发也曾参与管理；提到开发，从一开始对语言和业务都很陌生，任务不能按时完成；到后来逐渐掌握方法，准时完成任务。这个期间是一个逐渐迷失，然后发现问题，之后解决问题的过程。所以，在这里总结一下自己的经验和体会。</p>

<p>在讲述之前先说一下背景:</p>

<h4>背景：</h4>

<blockquote><p>首先，说一下我们所使用的语言和框架：</p>

<ul>
<li>前台：主要是Extjs</li>
<li>后台：Ruby</li>
<li>框架：Rails</li>
</ul>


<p>其次，说明一下我们所做的系统内容和功能：</p>

<ul>
<li>它是一个有关服装的一套生产流程的管理系统，包括板房打板，制作订单和制单，库存管理，采购管理，员工工资预算等内容。</li>
<li>页面所涉及的组件一般为panel（面板），form（表单），grid（表格），tree（树）和window（窗口）。</li>
<li>页面功能一般为对记录进行增删查改，对单据进行打印和导出Excel的功能。</li>
</ul>


<p>最后，讲述以下我们所做的系统复杂性：</p>

<ul>
<li>其实，由前面的内容和功能看好像不复杂，大部分系统都是这样。但是，看似简单的功能，实现并不容易；因为公司涉及流程范围广，系统较大，而系统所需的表有100多张；经常一个页面涉及10多张表，所以查找关联时比较吃力。</li>
</ul>
</blockquote>

<hr />

<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当我开始接触此项目时，团队已经调研完并且设计好了数据库；而我们对数据库和业务都不熟悉；一开始就进入实现阶段常常会产生一个接连一个的问题；面对这些问题，我们探寻一条解决道路，团队开始采取的方法是：</p>

<p>1.业务完全不了解：</p>

<ul>
<li>先<strong>查看</strong>之前调研出来的<strong>流程图</strong>;</li>
<li>要求之前调研的人员对<strong>大体的流程</strong>进行<strong>讲解</strong>（因为流程图这种文档不一定能被第三方所理解，所以必须进行讲解；但是一开始讲解太全不易接受，所以我提议一开始讲大体内容，实现前针对模块的流程进行讲解）;</li>
<li>开发时对所做的<strong>模块流程</strong>进行<strong>讲解</strong>;</li>
</ul>


<p>2.数据库设计问题：</p>

<ul>
<li>对于这个问题，要看问题的大小，组织当时<strong>数据库设计相关人员进行讨论</strong>;</li>
<li>如果易于修改，不会改动太大，不会造成较大影响的，可以进行修改。</li>
<li>若影响较大，寻求其他途径代替，而不改动数据库。</li>
</ul>


<hr />

<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;好，现在来讲我的代码实现方法，因为还是学生，不是什么正规公司，在代码设计上不像大公司那样规范；为了完成每一个任务，自己逐渐掌握的一套方法：</p>

<h4>准备:</h4>

<p>1.了解所要做的<strong>线路的流程</strong>，究竟是要干什么：
 理解所要实现的功能，所做的页面比起原来公司方式多了什么好处或修复了什么弊端。这样有助于理解并且找出系统设计的错误，及早改正。</p>

<p>2.查看<strong>数据库</strong>的设计的<strong>有关联的表</strong>：</p>

<ul>
<li>首先可以先看名字，你之后设计的函数或变量名字其实很多可以从数据库的表名或字段名借鉴。</li>
<li>将你前台所需要的字段找出来，你的页面将通过哪张表开始显示这个字段，找出一条搜索路径。（这里是一些大致需要查找的地方，如表单，表格）</li>
</ul>


<p>3.简要<strong>设计函数和分割代码</strong>(这里不是很细致地设计，而只是提出设计，实现是可以按着这个方向编写代码)：</p>

<ul>
<li>根据功能设计前台函数名（这也只能从较高层次上设计，如果熟练了，就知道页面大概要什么函数了，到那时设计起来简单）。</li>
<li>计高内聚低耦合的代码（这个比较难，一开始会因为站在比较高的地方，对一些细致的内容不了解或是业务知识不清晰而做出设计，最后由于一些功能不一致而修改，发现内聚性较差）。</li>
</ul>


<p>4.根据前台功能开始着手<strong>设计后台</strong>，前台所需发的请求，归纳后台需要什么内容，将后台处理过程划分，设计后台方法名。</p>

<h4>实现:</h4>

<p>5.开始着手敲代码实现，在前台这个期间我经历了三个阶段：</p>

<ul>
<li><p>没显示内容：怎么办？只好不停的调试；因为使用js的ext库做前台，所以我会在代码中用console.log()通过chrome的审查元素进行调试。</p>

<p><strong>结论：</strong>第一次还是不要一次性写太多内容；对于前台，你只需要写出那么一个总体显示框架就行了（如：一个布局：上面有个form，下面有个grid，显示出来就行了），之后再逐步细化。</p></li>
<li><p>当前台显示出来后，我认为根据MVC，View要发送请求，必须通过前台的功能实现，所以着手写之前所设计的前台功能代码：增删查改的ajax。但是，这样编代码后思想会很乱，容易分心，效率低下。</p>

<p><strong>结论：</strong>先做号前台页面的显示和最基本的数据显示（包括后台代码）；然后还是前台的一个功能设计出来后，后台根据这个请求实现，完成后台代码后测试这个功能是否可用。</p></li>
<li><p>最后一阶段就是一个一个的功能实现了，接在在一起时出现了问题，这时也只能调试。</p>

<p><strong>结论：</strong>调试时先判断是前台还是后台，这一期间一般发生在后台；如果可以通过提示的错误判断，则判断哪个范围出错，并那个范围进行调试；不然就顺着请求的访问路径测试，逐步调试。</p></li>
</ul>


<h4>总结:</h4>

<blockquote><p>编代码时</p>

<p>1.先整体后局部：做前台先将整体框架显示，再一个一个进行实现，而功能先不做；</p>

<p>2.先简单后复杂（复杂局部实现）：找出前台要显示的基本信息，编写后台实现基本的显示信息，再用一个功能一个功能实现;</p>

<p>3.先局部后整体：在此期间的不断地测试。</p></blockquote>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/26/rails-assets-pipeline/">Rails Assets Pipeline</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-26T10:10:00+08:00" pubdate data-updated="true">Oct 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>本章我将从三个方面介绍Assets Pipeline:</p>

<ol>
<li>Assets Pipeline的产生背景</li>
<li>Assets Pipeline的定义</li>
<li>Assets Pipeline的主要功能</li>
<li>Assets Pipeline的使用方法</li>
<li>生产环境下的Assets Pipeline</li>
</ol>


<hr />

<h3>背景：</h3>

<p>在Rails项目中，只用<strong>public/文件夹是公开读取</strong>的，所以我们通常会把<strong>javascript,css等静态资源放入</strong>其中，好让浏览器直接读取。但是随着这些静态文件越来越多，如何管理他们成为一个问题，为了加快浏览器下载速度，我们要合并javascript和stylesheet文件，来减少浏览器请求次数，更进一步还会压缩文件来加速下载时间。</p>

<p>  后来,Rails3引进了Assets Pipeline的新功能，它可以让静态资源存放在不同目录下，rails帮你组合压缩，特别是一些javascript插件。没有Assets Pipeline之前，我们必须将javascript复制到public/中浏览器才可以读取。</p>

<blockquote><p>Yahoo!和google都有自己开源的压缩工具<a href="http://yui.github.io/yuicompressor/">YUI Compressor</a>和<a href="https://developers.google.com/closure/compiler">Closure Compile</a>。</p></blockquote>

<hr />

<h3>什么是Assets Pipeline：</h3>

<p>Assets Pipeline是能<strong>使Javascript,CSS的assets（包括自己在assets文件夹中写的erb,sass和coffescript文件）连接、缩小和压缩的一个框架</strong>。这个框架通过它的<strong>中心库Sprokets(将资源预处理，压缩和缩小)</strong>使所有rails开发者从中受益。</p>

<p>assets pipeline是默认启动的，如果想关闭也可以到config/application.rb文件中将如下代码放入：</p>

<pre><code>    config.assets.enable = false
</code></pre>

<p>当然，我们也可以在创建项目时，就不产生assets:</p>

<pre><code>    rails new appname --skip-sprockets
</code></pre>

<hr />

<h3>主要功能:</h3>

<ul>
<li><p><strong>连接：(减少浏览器请求数)</strong></p>

<p>  它可以避免浏览器为了渲染页面而不得不发送过多的请求。网页浏览器限制了并行请求的数量， 所以更少的请求能让你的应用程序加载更快。</p>

<p>  Rails 默认将所有的 JavaScript 文件连结成一个主要的 .js 文件，和将所有的 CSS 文件连结成一个主要的 .css 文件。在生产环境中， Rails 给<strong>每个文件名插入一个 MD5 指纹</strong>,以便<strong>文件被网页浏览器缓存</strong>。你可以通过修改指纹使缓存无效，这在你修改文件后会自动发生。</p></li>
<li><p><strong>缩小/压缩：(加快js,css及图片等静态资源下载速度)</strong></p>

<p>  对于 CSS 文件，是通过去除空格和注释来实现的。</p>

<p>  对于 JavsScript, 会有更多的复杂过程。你可以从选项中选择一套构件或者指定你自己的。</p></li>
<li><p><strong>使用索引文件：(建立索引文件提高访问速度)</strong></p>

<p>  Sprockets 对一些特殊的用途会使用名为 index (使用相关扩展) 的文件，作为一系列相关文件的索引。</p></li>
<li><p><strong>高级语言预编译(coffeescript &ndash;> javascript / scss &ndash;> css等)：</strong></p>

<p>  它能你使用更高级的语言来编写资源，然后预编译成实质的资源。默认支持的语言包括 CSS 的 Sass，JavaScript 的 CoffeeScript 和可用于所有资源的 ERB.</p></li>
</ul>


<hr />

<h3>使用方法：</h3>

<p>在 Rails 之前的版本里，所有的资源都放置在 public 的子目录下比如 images, javascript 和 stylesheets. 对于 asset pipeline, 这些资源现在被指定到 <strong>app/assets 目录</strong>。这个<strong>目录下的所有文件都通过 Sprockets 中间件供应</strong>，这个中间件通过引入 sprockets gem 使用。</p>

<h4>资源组织：</h4>

<p>Pipeline assets 可以被放置到一个应用程序中这三个位置中的一个:</p>

<ul>
<li>app/assets 放置属于<strong>应用程序的资源</strong>，比如自选图像，JavaScript 文件和样式文件。</li>
<li>lib/assets 用于不在应用程序<strong>范围内的自有函式库</strong>，或者那些<strong>跨应用程序共通的函式</strong>。</li>
<li>vendor/assets 用于属于<strong>外部实体的资源</strong>，比如 JavaScript 插件和 CSS 框架的代码。</li>
</ul>


<hr />

<ol type="a">
<li><p>搜索路径：</p>

<p>介绍搜索路径时，先来介绍<strong>资源清单</strong>：</p>

<blockquote><ul>
<li><p>资源清单一般是app/assets/stylesheets/application.css和app/assets/javascripts/application.js</p></li>
<li><p>assets pipeline<strong>默认搜索路径将会在app/assets/images和三个资源路径app/assets/、lib/assets/、 vendor/assets下的所有javascripts, stylesheets子目录</strong>，而索引的<strong>文件将由文件清单给出</strong>,如：//= require home 将是 app/assets/javascripts/home.js。</p></li>
<li><p>下图就是一份JS资源清单：</p></li>
</ul>
</blockquote>

<p><img src="/images/posts/2013-10-26/resource_list.png" title="JS资源清单" alt="无法显示图片" /></p>

<p>刚才已经提到，那是默认的搜索路径，你也可以附加路径：在config/application.rb里添加路径到pipeline。例如：</p>

<pre><code>config.assets.paths &lt;&lt; Rails.root.join("app", "assets", "flash")
</code></pre>

<p><em>注意：想在<strong>资源清单外引用</strong>的文件必须加载到<strong>预编译列表</strong>里，否则它们在<strong>生产环境</strong>将不可以用。</em></p></li>
<li><p>使用索引文件:</p>

<p>如果你了解数据库，就应该对索引很熟悉。如果一个字段<strong>经常被查找</strong>，你可以将它<strong>建立索引</strong>从而提高访问速度。</p>

<p>Sprockets也采取类似方法，对一些<strong>特殊的用途</strong>会使用名为 index (使用相关扩展) 的文件。</p>

<blockquote><p>例如，如果你的<strong>许多模块都要使用某个 jQuery 函式库</strong>，这个函式库存放在 lib/assets/library_name。 lib/assets/library_name/index.js 会作为<strong>这个库的所有文件的 manifest</strong>. 这个文件可以按顺序包含一组需要使用的文件，或者一个简单的 require_tree 指令。</p></blockquote></li>
<li><p>连接资源代码：</p>

<p><strong>使用标签：</strong></p>

<p>pipeline(在当前的环境上下文中没有被关闭)提供标签访问你的资源,这些文件通过Sprockets获得。</p>

<p>Sprockets 也会搜寻在 config.assets.paths 指定的所有路径，这些路径包括常规的应用程序路径和任何被 Rails engines 添加进来的路径。</p>

<pre><code>&lt;%= stylesheet_link_tag "application" %&gt;
&lt;%= javascript_include_tag "application" %&gt;
&lt;%= image_tag "rails.png" %&gt;
</code></pre>

<p><strong>CSS:</strong></p>

<p>assets pipeline会<strong>自动解析erb</strong>，你可以在CSS增加扩展名.erb，这样资源中就可以<strong>使用helpers</strong>方法(如：asset_path)。</p>

<p>使用assets pipeline，<strong>资源路径必须重写</strong>并且sass-rails提供两个helpers方法：-url和-path。</p>

<p><strong>JS:</strong></p>

<p>使用erb扩展名可以使用asset_path的helpers方法。你也可以在coffeescript增加扩展名erb。</p></li>
<li><p>资源清单和指令：</p>

<p><strong>作用：</strong>Sprockets 使用资源清单文件去<strong>确认哪些资源要引入并供应</strong>的。</p>

<p>这些资源清单文件包含一些 <strong>指令</strong> — 告诉 Sprockets 哪些文件要被<strong>按顺序引入</strong>，然后将它们<strong>连结成单个 CSS 或者 JavaScript 文件的指示</strong>。根据这些指令， Sprockets 加载这些被指定的文件，如果有必要就对它们<strong>进行加工</strong>，接着将它们<strong>连结成单个文件然后压缩</strong>它们 ( 如果 <strong>Rails.application.config.assets.compress</strong> 为 true ).</p>

<p>由于只处理单个文件而不是多个， 浏览器可以发起更少的请求所以页面的加载时间将会大大的缩减。</p>

<p>还记得清单内容吗？之前提到的资源清单。</p>

<p><strong>构成：</strong></p>

<ul>
<li>JS资源清单:</li>
</ul>


<p>那些<strong>以//=开头的注释就是指令</strong>，而 <strong>require 指令</strong>是用于告诉 Sprockets <strong>需要加入</strong>的文件,也不用加扩展名，当资源清单是js文件，Sprockets会假设你加入的是一个.js文件。</p>

<p>  <strong>require_tree</strong> 指令告诉 Sprockets <strong>递归</strong>地去包含在<strong>指定目录下<em>所有</em></strong> 的 JavaScript 文件到<strong>输出里</strong>。 这些<strong>路径必须在资源清单文件中有相关的指定</strong>。 有也可以使用 require_directory 指令，它会将在某个特定目录下所有的 JavaScript 文件包含进去，但不递归。</p>

<pre><code>//= require jquery
//= require jquery_ujs
//= require_tree .
</code></pre>

<ul>
<li>CSS资源清单：</li>
</ul>


<p>  用css的注释开头，同样用require引入文件，指令<strong>require_tree</strong>和JS中的一样（<strong>加入当前目录所有stylesheets文件</strong>），require_self将文件中的 CSS (如果有) 放置到 require_self 调用的准确位置。</p>

<pre><code>/* ...
*= require_self
*= require_tree .
*/
</code></pre>

<p><em>注意：用到多个sass文件时，用<strong>@import rule</strong>替代Sprockets</em>指令，Sprockets 指令在 Sass 文件中定义的<strong>变量和 mixins</strong> 都只能在其<strong>被定义的文档</strong>中可用。_</p></li>
<li><p>预处理：</p>

<p>文件的<strong>扩展名</strong>被用于判断某个资源文件要进入<strong>哪个预处理过程</strong>。</p>

<p><strong>预处理</strong>可以通过<strong>添加其它的扩展</strong>被加入，扩展的<strong>处理顺序</strong>按是<strong>从右到左</strong>。这应该用于需要按顺序处理的过程。编译好的 JavaScript 和 CSS 文件送回给浏览。</p>

<blockquote><p>例如：</p>

<p>app/assets/javascripts/projects.js.erb.coffee，那么现由 CoffeeScript 拦截器先处理。它不能解析 ERB 所以你会碰到问题。</p></blockquote></li>
</ol>


<hr />

<h4>生产环境：</h4>

<ul>
<li><p>预编译资源</p>

<p>Rails 本身绑定了一个 <strong>rake</strong> 任何去编译资源资源清单和 pipeline 中的其它文件到<strong>磁盘</strong>里。</p>

<p><strong>编译后的资源</strong>都被写入到了在 config.assets.prefix 指定的位置里。默认情况下，是 <strong>pulibc/assets 目录</strong>。</p>

<p>为了更<strong>快速的预编译资源</strong>，你可以在 config/application.rb 里将 <strong>config.assets.initialize_on_precompile 设置为 false</strong> 去<strong>部分加载</strong>你的应用程序。</p>

<blockquote><p>如果你设置 config.assets.initialize_on_precomile 为 false,在<strong>开发模式</strong>范围内会<strong>忽略这个标记的值</strong>. 改变这个标记也会影响到 engines. Engines 也可以<strong>指定预编译资源.</strong> 因为完整的环境还没有加载完, <strong>engines (或者其他的 gems) 将不会被加载</strong>, 这会引起<strong>资源丢失</strong>.</p></blockquote>

<p>所以，你可以通过以下命令生成已编译版本的资源文件:</p>

<pre><code>bundle exec rake assets:precompile
</code></pre></li>
</ul>


<hr />
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/25/jia-zai-rails/">加载Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-25T22:58:00+08:00" pubdate data-updated="true">Oct 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在上一篇文章<a href="http://tsaikoga.github.io/blog/2013/10/24/railschu-shi-hua-he-qi-dong-guo-cheng/">Rails服务启动过程</a>,最后加载的config/application.rb文件中显示：</p>

<pre><code>    require 'rails/all'
</code></pre>

<p>这个文件在railties/lib/rails/all.rb。</p>

<hr />

<h3>railties/lib/rails/all.rb</h3>

<p>这个文件非常重要，它加载了rails的所有个体框架，从中可以知道这些<strong>框架的加载顺序</strong>：</p>

<pre><code>require "rails"

    %{
        active_record
        action_controller
        action_mail
        rails/test_unit
        sprockets
    }.each do |framework|
        begin
            require "#{framework}/railtie"          # 文件active_record/railtie等
      rescue LoadError
        end
    end
</code></pre>

<blockquote><p><strong>railtie 是Rails的核心框架</strong>，并且提供hooks来修改启动时的载入流程，
如果需要在启动过程或之后与rails框架进行交互，就需要加载Railtie。</p></blockquote>

<hr />

<h3>config/environment.rb</h3>

<p>当config/application.rb已经将rails加载完成,并且<strong>定义了应用的命名空间</strong>（在一个module中mixin一个Application类）。</p>

<p>而在config/environment.rb文件中，你的<strong>项目被初始化</strong>，如：<strong>Examples::Application.initialize!(在application.rb中已经定义了)</strong>。</p>

<p>想知道初始化做了写什么吗？</p>

<hr />

<h3>railties/lib/rails/application.rb</h3>

<p>以下为初始化代码：(你的Application类继承Rails::Application类，而这个类就在railties/lib/rails/application.rb文件中)</p>

<pre><code>    def initialize!(group=:default) #:nodoc:
        raise "Application has been already initialized." if @initialized
        run_initializers(group, self)
        @initialized = true
        self
    end
</code></pre>

<p>Rails会贯穿这整个Rails::Application祖先类，重新排序和运行他们。</p>

<h3>Rack: lib/rack/server.rb</h3>

<p>在<a href="http://tsaikoga.github.io/blog/2013/10/24/railschu-shi-hua-he-qi-dong-guo-cheng/">上一篇</a>时,有提到Rack::Server类，它里面有一个app方法是这么定义的：</p>

<pre><code>    def app
        @app ||= begin
            if !::File.exist? options[:config]
                abort "configuration #{options[:config]} not found"
            end

            app, options = Rack::Builder.parse_file(self.options[:config], opt_parser)
            self.options.merge! options
            app
        end
    end
</code></pre>

<p>这里所指的app就是Rails的app（一种中间件），Rack将会调用所有提供的中间件。</p>

<pre><code>    def build_app(app)
        middleware[options[:environment]].reverse_each do |middleware|
            middleware = middleware.call(self) if middleware.respond_to?(:call)
            next unless middleware
            klass = middleware.shift
            app = klass.new(app, *middleware)
        end
        app
    end
</code></pre>

<p>以上代码build_app是被Server#start方法调用的，通过这个代码调用：</p>

<pre><code>    server.run wrapped_app, options, &amp;blk
</code></pre>

<p>所以，server.run将会依赖于你所使用的server程序(以上代码有传入一个程序块&amp;blk,他将关系到你运行的服务),
像是如果你是用的是Mongrel数据库，将会通过传入如下程序块运行：</p>

<pre><code>    def self.run(app, options={})
        server = ::Mongrel::HttpServer.new(
            options[:Host]           || '0.0.0.0',
            options[:Port]           || 8080,
            options[:num_processors] || 950,
            options[:throttle]       || 0,
            options[:timeout]        || 60)
        # Acts like Rack::URLMap, utilizing Mongrel's own path finding methods.
        # Use is similar to #run, replacing the app argument with a hash of
        # { path=&gt;app, ... } or an instance of Rack::URLMap.
        if options[:map]
            if app.is_a? Hash
                app.each do |path, appl|
                    path = '/'+path unless path[0] == ?/
                    server.register(path, Rack::Handler::Mongrel.new(appl))
                end
            elsif app.is_a? URLMap
                app.instance_variable_get(:@mapping).each do |(host, path, appl)|
                 next if !host.nil? &amp;&amp; !options[:Host].nil? &amp;&amp; options[:Host] != host
                 path = '/'+path unless path[0] == ?/
                 server.register(path, Rack::Handler::Mongrel.new(appl))
                end
            else
                raise ArgumentError, "first argument should be a Hash or URLMap"
            end
        else
            server.register('/', Rack::Handler::Mongrel.new(app))
        end
        yield server  if block_given?
        server.run.join
    end
</code></pre>

<p>以上代码使用Mongrel::HttpServer定义了server实例，然后使用server.run运行.</p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/24/railschu-shi-hua-he-qi-dong-guo-cheng/">Rails服务启动过程</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-24T14:51:00+08:00" pubdate data-updated="true">Oct 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我们都知道，每当我们console中输入rails s时，系统就启动了你的rails应用程序。</p>

<hr />

<h3>app程序中的bin/rails脚本</h3>

<p>它是由你的app程序的<strong>bin/rails脚本</strong>执行的(我们的rails命令在通过bin/rails脚本引用rails/commands.rb文件中)。</p>

<p><em>如：example_</em>app/bin/rails_</p>

<pre><code>    #!/usr/bin/env ruby
    APP_PATH = File.expand_path('../../config/application',  __FILE__)
    require_relative '../config/boot'
    require 'rails/commands'
</code></pre>

<p>APP_PATH常量将会在rails/commands中用到，而config/boot指向<strong>config/boot.rb</strong>文件，这个文件<strong>会加载和设置Bundler</strong>。</p>

<hr />

<h3>config/boot.rb加载gem</h3>

<p>前面bin/rails引入两个文件,现在我们先说第一个文件
config/boot.rb:</p>

<pre><code>    # Set up gems listed in the Gemfile.
    ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../../Gemfile', __FILE__)

    require 'bundler/setup' if File.exists?(ENV['BUNDLE_GEMFILE'])
</code></pre>

<p>config/boot.rb用ENV[&lsquo;BUNDLE_GEMFILE&rsquo;]定位Gemfile文件，当Gemfile文件存在时，就将它引入。这样一来，gem就被引入了。</p>

<hr />

<h3>rails/commands.rb执行rails命令</h3>

<p>前面config/boot.rb引入的第二个文件,但这个文件必须在第一个文件config/boot.rb文件引入后才被引入。
rails/commands.rb:</p>

<pre><code>    ARGV &lt;&lt; '--help' if ARGV.empty?

    aliases = {
        "g"  =&gt; "generate",
        "d"  =&gt; "destroy",
        "c"  =&gt; "console",
        "s"  =&gt; "server",
        "db" =&gt; "dbconsole",
        "r"  =&gt; "runner"
    }

    command = ARGV.shift
    command = aliases[command] || command
</code></pre>

<p>当你输入的是rails server的话，将会执行下列代码匹配你的命令：</p>

<pre><code>    when 'server'
        # Change to the application's path if there is no config.ru file in current dir.
        # This allows us to run `rails server` from other directories, but still get
        # the main config.ru and properly set the tmp directory.
        Dir.chdir(File.expand_path('../../', APP_PATH)) unless File.exists?(File.expand_path("config.ru"))

        require 'rails/commands/server'
        Rails::Server.new.tap do |server|
            # We need to require application after the server sets environment,
            # otherwise the --environment option given to the server won't propagate.
            require APP_PATH
            Dir.chdir(Rails.application.root)
            server.start
        end
</code></pre>

<p>刚才我们的bin/rails脚本中已经定义了常量APP_PATH为&#8221;config/application.rb&#8221;,而</p>

<pre><code>    Dir.chdir(File.expand\_path('../../', APP\_PATH)) unless File.exists?(File.expand\_path("config.ru"))
</code></pre>

<p>表示如果<strong>没有config.ru文件时，就加载rails/commands/server文件，否则加载config/application.rb</strong>。</p>

<p>也就是，你<strong>启动了服务前才帮你加载程序的应用文件application.rb</strong>。
application.rb这个文件将会加载Rails。</p>

<hr />

<h3>rails/commands/server.rb</h3>

<p>来看一下rails/commands/server中定义的类Rails::Server吧。</p>

<pre><code>    require 'fileutils'
    require 'optparse'
    require 'action_dispatch'

    module Rails
        class Server &lt; ::Rack::Server
</code></pre>

<p>这里引入的<strong>fileutils和optparse</strong>是<strong>标准的ruby库</strong>，分别提供文件的辅助方法和转化选择。</p>

<p>Rails::Server继承了Rack::Server,当<strong>Rack::Server被初始化(设置环境)</strong>时，Rack::Server也被初始化。</p>

<pre><code>    def initialize(*)
        super
        set_environment
    end
</code></pre>

<hr />

<p>Rack::Server是为<strong>以Rack为基础的应用提供公用的服务接口</strong>，rails就是其中之一。</p>

<ul>
<li><p>初始化设置环境：</p>

<p>  刚才提到的初始化代码如下：</p>

<pre><code>  def set_environment
      ENV["RAILS_ENV"] ||= options[:environment]
  end
</code></pre>

<p>  不要以为set_environment很少，options干了很多事情：</p>

<pre><code>  def options
      @options ||= parse_options(ARGV)
  end
</code></pre>

<p>  parse_options定义如下：</p>

<pre><code>  def parse_options(args)
      options = default_options

      # Don't evaluate CGI ISINDEX parameters.
      # http://hoohoo.ncsa.uiuc.edu/cgi/cl.html
      args.clear if ENV.include?("REQUEST_METHOD")

      options.merge! opt_parser.parse! args
      options[:config] = ::File.expand_path(options[:config])
      ENV["RACK_ENV"] = options[:environment]
      options
  end
</code></pre>

<p>  我们将一行一行解释，</p>

<p>  (1)选择default_options如下设置：</p>

<pre><code>  def default_options
      {
          :environment =&gt; ENV['RACK_ENV'] || "development",
          :pid         =&gt; nil,
          :Port        =&gt; 9292,
          :Host        =&gt; "0.0.0.0",
          :AccessLog   =&gt; [],
          :config      =&gt; "config.ru"
      }
  end
</code></pre>

<p>  它<strong>(Rack::Server)提供了默认环境和端口号等信息</strong>，还记得当rails/commands.rb中，如果存在config.ru时，就加载config/applicaton.rb文件吗？</p>

<p>  (2)当ENV哈希环境中没有REQUEST_METHOD这个键时，跳过而去执行合并选项。</p>

<p>  Rack::Server中的opt_server</p>

<pre><code>  def opt_parser
      Options.new
  end
</code></pre>

<p>  (3)Rails::Server重写parse!</p>

<pre><code>  def parse!(args)
      args, options = args.dup, {}

      opt_parser = OptionParser.new do |opts|
          opts.banner = "Usage: rails server [mongrel, thin, etc] [options]"
          opts.on("-p", "--port=port", Integer,
                          "Runs Rails on the specified port.", "Default: 3000") { |v| options[:Port] = v }
      ...
</code></pre></li>
</ul>


<p>刚才说default_options已经有了config.ru，这是回到之前rails.commands.rb文件，它加载了config/application.rb文件</p>

<hr />

<h3>config/application.rb</h3>

<p>当require APP_PATH被执行，<strong>config/applicaton.rb被加载，server.start就被调用</strong>了。
方法如下：</p>

<pre><code>    def start
        url = "#{options[:SSLEnable] ? 'https' : 'http'}://#{options[:Host]}:#{options[:Port]}"
        puts "=&gt; Booting #{ActiveSupport::Inflector.demodulize(server)}"
        puts "=&gt; Rails #{Rails.version} application starting in #{Rails.env} on #{url}"
        puts "=&gt; Run `rails server -h` for more startup options"
        trap(:INT) { exit }
        puts "=&gt; Ctrl-C to shutdown server" unless options[:daemonize]

        #Create required tmp directories if not found
        %w(cache pids sessions sockets).each do |dir_to_make|
            FileUtils.mkdir_p(Rails.root.join('tmp', dir_to_make))
        end

        unless options[:daemonize]
            wrapped_app # touch the app so the logger is set up

            console = ActiveSupport::Logger.new($stdout)
            console.formatter = Rails.logger.formatter

            Rails.logger.extend(ActiveSupport::Logger.broadcast(console))
        end

        super
    ensure
        # The '-h' option calls exit before @options is set.
        # If we call 'options' with it unset, we get double help banners.
        puts 'Exiting' unless @options &amp;&amp; options[:daemonize]
    end
</code></pre>

<blockquote><ul>
<li><p>这个方法非常重要，我们可以看到前面有一堆提示，而后面<strong>创建了tmp/cache,tmp/pids,tmp/sessions和tmp/sockets文件夹</strong>,</p></li>
<li><p>在调用<strong>wrapped_app方法创建Rack应用</strong>。</p></li>
<li><p>并且<strong>定了ActiveSupport::Logger</strong>。</p></li>
</ul>
</blockquote>

<p>还记得<strong>options[:config]默认指向config.ru</strong>吗？这个文件中包含了：</p>

<pre><code>    # This file is used by Rack-based servers to start the application.

    require ::File.expand_path('../config/environment',  __FILE__)
    run &lt;%= app_const %&gt;
</code></pre>

<p>它<strong>引进了config/environment.rb</strong>文件，而<strong>environment.rb这个文件引入了config/application.rb</strong>文件</p>

<hr />

<h3>actionpack/lib/action_dispatch.rb</h3>

<p>Action Dispatch是rails框架的一个路由组件，提供routing,session和middlewares</p>

<p>也就是，你启动了服务前才帮你加载程序的应用文件application.rb。</p>

<hr />

<h4>总结：(自己所画的rails初始化过程图片)</h4>

<p><img src="/images/posts/2013-10-23/rails_initialize.png" title="rails初始化过程" alt="图片无法显示" /></p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/23/ubuntuchang-yong-ming-ling/">Ubuntu常用命令</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-23T16:20:00+08:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/posts/2013-10-23/ubuntu.jpg" title="ubuntu" alt="无法显示图片" /></p>

<h3>先介绍关于文件和目录的命令：</h3>

<blockquote><p>ls 列出当前目录文件（不包括隐含文件）</p>

<p>ls -a 列出当前目录文件（包括隐含文件）</p>

<p>ls -l 列出当前目录下文件的详细信息</p>

<p>cd .. 回当前目录的上一级目录</p>

<p>cd &ndash; 回上一次所在的目录</p>

<p>cd ~ 或 cd 回当前用户的宿主目录</p>

<p>mkdir 目录名 创建一个目录</p>

<p>rmdir 空目录名 删除一个空目录</p>

<p>rm 文件名 文件名 删除一个文件或多个文件</p>

<p>rm -rf 非空目录名 删除一个非空目录下的一切</p>

<p>mv 路经/文件 /经/文件移动相对路经下的文件到绝对路经下</p>

<p>mv 文件名 新名称 在当前目录下改名</p></blockquote>

<h3>再介绍用户的命令:</h3>

<blockquote><p>useradd 创建一个新的用户</p>

<p>  groupadd 组名 创建一个新的组</p>

<p>  passwd 用户名 为用户创建密码</p>

<p>  passwd -d用户名 删除用户密码也能登陆</p>

<p>  passwd -S用户名 查询账号密码</p>

<p>  usermod -l 新用户名 老用户名 为用户改名</p>

<p>  userdel–r 用户名 删除用户一切</p></blockquote>

<h3>查看系统信息的命令：</h3>

<blockquote><p>uname -a 查看内核版本</p>

<p>cat /etc/issue 查看ubuntu版本</p>

<p>lsusb 查看usb设备</p>

<p>sudo ethtool eth0 查看网卡状态</p>

<p>cat /proc/cpuinfo 查看cpu信息</p>

<p>lshw 查看当前硬件信息</p>

<p>sudo fdisk -l 查看磁盘信息</p>

<p>df -h 查看硬盘剩余空间</p>

<p>free -m 查看当前的内存使用情况</p>

<p>ps -A 查看当前有哪些进程</p></blockquote>

<h3>关于软件包操作的命令：</h3>

<blockquote><p>apt-cache search package 搜索包</p>

<p>  apt-cache show package 获取包的相关信息，如说明、大小、版本等</p>

<p>  sudo apt-get install package 安装包</p>

<p>  sudo apt-get install package &ndash; &ndash; reinstall 重新安装包</p>

<p>  sudo apt-get -f install 修复安装”-f = –fix-missing”</p>

<p>  sudo apt-get remove package 删除包</p>

<p>  sudo apt-get remove package &ndash; &ndash; purge 删除包，包括删除配置文件等</p>

<p>  sudo apt-get update 更新源</p>

<p>  sudo apt-get upgrade 更新已安装的包</p>

<p>  sudo apt-get dist-upgrade 升级系统</p>

<p>  sudo apt-get dselect-upgrade 使用 dselect 升级</p>

<p>  apt-cache depends package 了解使用依赖</p>

<p>  apt-cache rdepends package 是查看该包被哪些包依赖</p>

<p>  sudo apt-get build-dep package 安装相关的编译环境</p>

<p>  apt-get source package 下载该包的源代码</p>

<p>  sudo apt-get clean &amp;&amp; sudo apt-get autoclean 清理无用的包</p>

<p>  sudo apt-get check 检查是否有损坏的依赖</p>

<p>  清理所有软件缓存（即缓存在/var/cache/apt/archives目录里的deb包）</p>

<p>  sudo apt-get clean</p></blockquote>

<h3>最后讲几个比较重要，在实际操作中提供方便的命令：</h3>

<h4>find命令</h4>

<p>  find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件。</p>

<p><strong>使用格式如下：</strong></p>

<pre><code>  $ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;
</code></pre>

<ul>
<li><p>&lt;指定目录>： 所要搜索的目录及其所有子目录。默认为当前目录。</p></li>
<li><p>&lt;指定条件>： 所要搜索的文件的特征。</p></li>
<li><p>&lt;指定动作>： 对搜索结果进行特定的处理。</p></li>
</ul>


<p><strong>举例：</strong></p>

<pre><code>$ find . -name 'my*' -ls        # 搜索当前目录中，所有文件名以my开头的文件，并显示它们的详细信息。
$ find . -type f -mmin -10    # 搜索当前目录中，所有过去10分钟中更新过的普通文件。如果不加-type f参数，则搜索普通文件+特殊文件+目录。
</code></pre>

<hr />

<h4>locate命令</h4>

<p>locate命令其实是&#8221;find -name&#8221;的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</p>

<hr />

<h4>grep命令</h4>

<p>grep命令用于查找文件中的字符串。</p>

<p><strong>命令格式如下：</strong></p>

<pre><code>    grep [选项] 查找模式 [文件名1, 文件名2, ...]

    grep [选项] [-e 查找模式|-f 文件][文件名1, 文件名2, ...]
</code></pre>

<blockquote><p>当然：最好用的参数</p>

<p>  -E 将查找模式解释成正则表达式</p>

<p>  -F 将查找模式解释成单纯的字符串</p>

<p>  -i &mdash;ignore-case 匹配比较时不区分字母的大小</p>

<p>  -R 以递归方式查询目录下所有子目录中的文件</p></blockquote>

<hr />

<h4>ack-grep命令</h4>

<p>grep命令加强。首先，我们先了解什么是ack？</p>

<blockquote><p>  <a href="http://betterthangrep.com">http://betterthangrep.com</a></p>

<p>  ack is a tool <strong>like grep</strong>, optimized for programmers</p>

<p>  is written purely in Perl 5,takes advantage of the power of Perl&rsquo;s regular expressions.</p></blockquote>

<p>ack诞生的目的就是要取代grep。</p>

<p>注意：ubuntu下要安装<strong>ack-grep</strong>，因为在debian系中，ack这个名字被其他的软件占用了。</p>

<pre><code>sudo apt-get install ack-grep
</code></pre>

<hr />

<h4>netstat命令</h4>

<p> Netstat是在内核中访问网络及相关信息的程序，它能提供TCP连接，TCP和UDP监听，进程内存管理的相关报告。</p>

<p><strong>命令格式如下：</strong></p>

<pre><code>    netstat -tulpn              # 显示服务器进程
    sudo netstat -antup   # 查看进程
    ack-grep function     # 查找函数位置（必须在文件目录下）
</code></pre>

<hr />

<h4>crontab命令</h4>

<p>这个命令我非常喜欢，他是<strong>设置定时执行脚本或任务</strong>,可以用它来定时做一些事情。如定时周期性的备份网站数据库，并email发送到指定邮箱。</p>

<p>参数就几个很简单：</p>

<pre><code>    crontab -l # 显示现有任务条目 
    crontab -r # 删除当前的任务 
    crontab -e # 编辑任务单，一般使用 nano 编辑，如DH。
</code></pre>

<p><strong>时间参数：</strong></p>

<blockquote><p>15 * * * * : 每小时第15分执行1次</p>

<p>15,18 * * * * : 每小时第15和18分各执行1次</p>

<p>*/15 */2 * * *: 每隔15分钟执行1次</p>

<p>15 20 * * 6: 每周星期6的20：15执行1次</p></blockquote>

<hr />
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/22/railsbiao-de-guan-lian/">Rails表的关联</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-22T21:47:00+08:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>一段时间没有用到表的关联，回想如何使用时，知识却模糊不清，所以将它记下以便以后查看。
Rails中表的关联主要有三种：单表继承,多态关联,自引用。</p>

<p>个人觉得：</p>

<ul>
<li><p><strong>单表继承</strong>是通过增加<strong>冗余字段</strong>来<strong>减少表的数量</strong>。</p></li>
<li><p><strong>多态关联</strong>是通过建立<strong>虚拟表</strong>来<strong>减少关联数</strong>（belongs_to）和<strong>字段</strong>（外键），方便于以后又有表要关联。</p></li>
<li><p><strong>自引用</strong>也是利用<strong>冗余</strong>而共用<strong>一张表</strong>。</p></li>
</ul>


<p>共同特点：</p>

<blockquote><p>都需要增加type字段，即增加冗余字段。</p></blockquote>

<p>差别：</p>

<blockquote><p>多态可以让子类有自己的行为特征（通过type字段呈现&#8221;多重形态&#8221;）。
单表继承必须拥有共同属性。
自引用必须牺牲一些字段（不需用到的字段的值为null）。</p></blockquote>

<hr />

<h3>详述</h3>

<h4>单表继承：</h4>

<p>一个继承体系<strong>所有类映射到同一张数据库表</strong>，这张表包含<strong>所有类拥有的属性</strong>。记住：所有属性哦，他们可以为null值（:null=>true，即null是可有可无的）。
它通过一个<strong>附加字段type来确认当前记录的对象</strong>属于什么<strong>类型</strong>&mdash;&mdash;ActiveRecord约定。</p>

<p>顾名思义，单表就是一张表，那么怎么呈现多种表的形态呢。当其他表引用它时，可以给予其他名字，但是要声明它实际是那张表(belongs_to :manager, :class_name => &ldquo;Person&rdquo;)，举例：</p>

<p>person.rb:</p>

<pre><code>Class Person &lt; ActiveRecord::Base
        belongs_to XXX
end
</code></pre>

<p>manager.rb:(继承Person类)</p>

<pre><code>Class Manager &lt; Person
end
</code></pre>

<p>rails console:</p>

<pre><code>XXX.first.manager
</code></pre>

<p>mysql:</p>

<pre><code>select people.* from people where people.type in ("Manager") and people.id=1
</code></pre>

<hr />

<h4>多态关联：</h4>

<p>通过建立虚拟表，通过虚拟表（先通过<strong>类型找到关联表</strong>，再通过<strong>外键找到对应的记录</strong>）访问。</p>

<p><strong>举例：</strong></p>

<p>假设我們已经有了Article与Photo这两个Model，然后我们希望这两个Model都可以被留言。不用多态关联的话，你得分別建立ArticleComment和PhotoComment的model。或者一个comment中要有两个外键：article_id和photo_id，虽然用多态也是两个字段，但当表多了就可以看出多态的好处。</p>

<p>现有个场景，有两个model：person和album，需要添加一个图片来做为其头像/封面。添加一个image model，按照以往需要对这几个model做以下关联设置：</p>

<p>没用多态关联前：不复杂，但是麻烦，如果<strong>以后加个book model之类</strong>的，也需要有个图做封面的，那又要<strong>改image model里的关联和migration</strong>了，一点都不DRY。</p>

<pre><code>class Person &lt; ActiveRecord::Base
  has_one :image, :dependent =&gt; :destroy
end

  class Album &lt; ActiveRecord::Base
         has_one :image, :dependent =&gt; :destroy
  end

  class Image &lt; ActiveRecord::Base
     belongs_to :person
         belongs_to :album
end
</code></pre>

<p>相应的image的migration要添加上关联字段：</p>

<pre><code>t.column :person_id, :integer, :null =&gt; false, :default =&gt; 0
    t.column :album_id, :integer, :null =&gt; false, :default =&gt; 0
</code></pre>

<p>使用多态关联后：</p>

<pre><code>    class Person &lt; ActiveRecord::Base
        has_one :image, :as =&gt; :iconable, :dependent =&gt; :destroy
    end
    class Album &lt; ActiveRecord::Base
        has_one :image, :as =&gt; :iconable, :dependent =&gt; :destroy
    end
    class Image &lt; ActiveRecord::Base
        belongs_to :iconable, :polymorphic =&gt; true
    end
</code></pre>

<p>Person和Album有了<strong>共同的一个虚拟的名字</strong>叫做iconable,image表就可以直接用外键iconable_id关联它,</p>

<p><strong>使用方法：</strong></p>

<p>添加：</p>

<pre><code>    @person = Person.new(params[:person])
    @person.build_image(params[:image])
    @person.save
</code></pre>

<p>读取：</p>

<pre><code>    @person.image
</code></pre>

<p>image 的属主：</p>

<pre><code>    @person.iconable
</code></pre>

<hr />

<h4>自引用：</h4>

<p>自引用就是<strong>一条记录可能引用同一张表的另一条记录</strong>：公司员工都有主管，主管也是员工。使用:class_name 和foregin_key加上has_many/has_one和belongs_to.</p>

<pre><code>class Employee &lt; ActiveRecord::Base
    belongs_to :manager,
      :class_name =&gt; "Employee",
      :foregin_key =&gt; "manager_id"
    belongs_to :mentor,
        :class_name =&gt; "Employee",
        :foregin_key =&gt; "mentor_id"
    has_many ：mentored_employees,
      :class_name =&gt; "Employee",
      :foreign_key =&gt; "mentor_id"
    has_many ：managed_employees,
      :class_name =&gt; "Employee",
      :foreign_key =&gt; "manager_id"
end
</code></pre>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/22/vimpei-zhi/">Vim配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-22T14:24:00+08:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>说到vim，大家应该都不陌生。它是类似于vi的编辑器，在vi的基础上增加了很多新特性。</p>

<p><img src="/images/posts/2013-10-22/vim.jpg" title="Vim图" alt="图片无法显示" /></p>

<h4>.vimrc配置文件</h4>

<p>以下内容复制到用户目录下的.vimrc文件，可以更改vim配置，使Vim更美观，更好用:</p>

<pre><code>set nocompatible            " 关闭 vi 兼容模式
    syntax on                   " 自动语法高亮
    colorscheme molokai         " 设定配色方案
    set number                  " 显示行号
    set cursorline              " 突出显示当前行
    set ruler                   " 打开状态栏标尺
    set shiftwidth=4            " 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4
    set softtabstop=4           " 使得按退格键时可以一次删掉 4 个空格
    set tabstop=4               " 设定 tab 长度为 4
    set nobackup                " 覆盖文件时不备份
    set autochdir               " 自动切换当前目录为当前文件所在的目录
    filetype plugin indent on   " 开启插件
    set backupcopy=yes          " 设置备份时的行为为覆盖
    set ignorecase smartcase    " 搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感
    set nowrapscan              " 禁止在搜索到文件两端时重新搜索
    set incsearch               " 输入搜索内容时就显示搜索结果
    set hlsearch                " 搜索时高亮显示被找到的文本
    set noerrorbells            " 关闭错误信息响铃
    set novisualbell            " 关闭使用可视响铃代替呼叫
    set t_vb=                   " 置空错误铃声的终端代码
    " set showmatch               " 插入括号时，短暂地跳转到匹配的对应括号
    " set matchtime=2             " 短暂跳转到匹配括号的时间
    set magic                   " 设置魔术
    set hidden                  " 允许在有未保存的修改时切换缓冲区，此时的修改由 vim 负责保存
    set guioptions-=T           " 隐藏工具栏  （等号前后不能空格）
    set guioptions-=m           " 隐藏菜单栏
    set smartindent             " 开启新行时使用智能自动缩进
    set backspace=indent,eol,start
                                                            " 不设定在插入状态无法用退格键和 Delete 键删除回车符
    set cmdheight=1             " 设定命令行的行数为 1
    set laststatus=2            " 显示状态栏 (默认值为 1, 无法显示状态栏)
    set statusline=\ %&lt;%F[%1*%M%*%n%R%H]%=\ %y\ %0(%{&amp;fileformat}\ %{&amp;encoding}\ %c:%l/%L%)\ 
                                                            " 设置在状态行显示的信息
    set foldenable              " 开始折叠
    set foldmethod=syntax       " 设置语法折叠

    "窗口分割时,进行切换的按键热键需要连接两次,比如从下方窗口移动
    "光标到上方窗口,需要&lt;c-w&gt;&lt;c-w&gt;k,非常麻烦,现在重映射为&lt;c-k&gt;,切换的
    "时候会变得非常方便.
    nnoremap &lt;C-h&gt; &lt;C-w&gt;h
    nnoremap &lt;C-j&gt; &lt;C-w&gt;j
    nnoremap &lt;C-k&gt; &lt;C-w&gt;k
    nnoremap &lt;C-l&gt; &lt;C-w&gt;l
</code></pre>

<p>接下来是括号补全：</p>

<pre><code>    inoremap (  ()&lt;Esc&gt;i                " inoremap表示输入模式下的匹配,当有"("时，匹配")"并退出重新进入"i编辑模式"
    inoremap [  []&lt;Esc&gt;i
    inoremap {  {}&lt;Esc&gt;i
    autocmd Syntax html,vim inoremap &lt; &lt;lt&gt;&gt;&lt;Esc&gt;i | inoremap &gt; &lt;c-r&gt;=ClosePair('&gt;')&lt;CR&gt;
    inoremap ) &lt;c-r&gt;=ClosePair(')')&lt;CR&gt;
    inoremap ] &lt;c-r&gt;=ClosePair(']')&lt;CR&gt;
    inoremap } &lt;c-r&gt;=CloseBracket()&lt;CR&gt;
    inoremap " &lt;c-r&gt;=QuoteDelim('"')&lt;CR&gt;
    inoremap ' &lt;c-r&gt;=QuoteDelim("'")&lt;CR&gt;

    function ClosePair(char)
        if getline('.')[col('.') - 1] == a:char
            return "\&lt;Right&gt;"
        else
            return a:char
        endif
    endf

    function CloseBracket()
        if match(getline('.' + 1), '\s*}') &lt; 0
            return "\&lt;CR&gt;}"
        else
            return "\&lt;Esc&gt;j0f}a"
        endif
    endf

    function QuoteDelim(char)
        let line = getline('.')
        let col = col('.')
        if line[col-2] == "\\"
            "Inserting a quoted quotation mark into string
            return a:char
        elseif line[col-1] == a:char
            "Escaping out of the string
            return "\&lt;Right&gt;"
        else
            "Starting a String
            return a:char.a:char."\&lt;Esc&gt;i"
        endif
    endf
</code></pre>

<p>下列两款vim插件非常好用，安装完，也必须在.vimrc中添加如下内容：</p>

<pre><code>    "-----------------------------------------------------------------
    " plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录
    " :ERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree
    " o 打开关闭文件或者目录         t 在标签页中打开
    " T 在后台标签页中打开           ! 执行此文件
    " p 到上层目录                   P 到根目录
    " K 到第一个节点                 J 到最后一个节点
    " u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）
    " r 递归刷新当前目录             R 递归刷新当前根目录
    "-----------------------------------------------------------------
    " F3 NERDTree 切换
    map &lt;F3&gt; :NERDTreeToggle&lt;CR&gt;
    imap &lt;F3&gt; &lt;ESC&gt;:NERDTreeToggle&lt;CR&gt;


    "-----------------------------------------------------------------
    " plugin - NERD_commenter.vim   注释代码用的，
    " [count],cc 光标以下count行逐行添加注释(7,cc)
    " [count],cu 光标以下count行逐行取消注释(7,cu)
    " [count],cm 光标以下count行尝试添加块注释(7,cm)
    " ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释。
    " 注：count参数可选，无则默认为选中行或当前行
    "-----------------------------------------------------------------
    let NERDSpaceDelims=1       " 让注释符与语句之间留一个空格
    let NERDCompactSexyComs=1   " 多行注释时样子更好看
</code></pre>

<p><em>感谢使用vim配置，记住要将vim编辑器重启后才生效。</em></p>
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/22/linuxde-wen-jian-he-mu-lu/">Linux的文件系统</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-22T09:49:00+08:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<h3>文件系统：</h3>

<p>我们都知道Linux的文件系统层次结构是一棵树，以&#8221;/&ldquo;表示的为最上层的目录。</p>

<p><strong>example:</strong></p>

<p>Ubuntu文件系统示意图：</p>

<p><img src="/images/posts/2013-10-22/ubuntu_file_system.png" title="Ubuntu文件系统" alt="无法显示图片" /></p>

<hr />

<h4>定义:</h4>

<blockquote><p><strong>文件:</strong> 是文件系统中存储数据的一个命名<strong>对象</strong>。即使是一个<strong>空文件</strong>，它也包含<strong>用户数据</strong>，仍然为操作系统提供其他信息。</p>

<p><strong>目录:</strong> 其中包含许多文件项目的一类<strong>特殊文件</strong>。支持文件系统的层次结构。系统中每个文件都登记在一个目录中。</p>

<p><strong>子目录：</strong> 被包含在另一个目录中的目录。除了root目录以外，所有的目录都是子目录，并且有他们的父目录。<strong>root目录就作为自己的父目录</strong>。</p>

<p><strong>文件名：</strong> 用来标志文件的字符串，保存在一个<strong>目录文件项</strong>中。</p></blockquote>

<hr />

<h4>文件结构：</h4>

<p>文件的成分：无论文件是一个程序，一个文档，一个数据库，还是一个目录，操作系统都会赋予它如下所示的同样的结构：</p>

<ul>
<li><p><strong>文件索引</strong>：又称<strong>I节点</strong>，是文件系统结构中包含<strong>相应文件信息</strong>的<strong>一个记录</strong>。这些信息包括文件权限、文件主、文件大小等。</p></li>
<li><p><strong>数据</strong>： 文件的实际内容，可以是空，可以非常大，并且有自己的结构。</p>

<p>文件名规范：</p>

<blockquote><p>（1）除了写先<strong>（“/”）和空字符（ASCII字符“\0”）</strong>以外，文件名可以包含任意的ASCII字符，因为这两个字符被核心<strong>当作标识路径名的特殊字符</strong>来解释。</p>

<p>（2）Linux<strong>区分大小写</strong>。</p>

<p>（3）以<strong>圆点（.）开头</strong>的文件为<strong>隐含文件</strong>。</p></blockquote></li>
</ul>


<hr />

<h4>文件类型：</h4>

<ul>
<li><strong>普通文件：</strong></li>
</ul>


<p>普通文件也称规范文件，包含<strong>各种长度的字符串</strong>。核心对这些<strong>数据没有进行结构化</strong>，只是作为<strong>有序的字符序列</strong>把它提交给应用程序。应用程序<strong>自己组织和解释</strong>这些数据。</p>

<blockquote><p>(1)<strong>文本文件</strong>：有ASCII字符构成。</p>

<p>(2)<strong>数据文件</strong>：来自<strong>应用程序</strong>的<strong>数字型和文本型数据</strong>组成，例如：电子表格，数据库及字处理文档。</p>

<p>(3)<strong>可执行的二进制文件</strong>：有机器指令和数据构成。</p></blockquote>

<p><em>命令：指定文件的类型（可将多个文件作为参数）</em></p>

<pre><code>$ file 文件名 [文件名...]
</code></pre>

<ul>
<li><strong>目录文件：</strong></li>
</ul>


<p>目录文件也<strong>包含数据</strong>，但与普通文件的差别是：核心对这些数据进行<strong>结构处理</strong>，即它是<strong>有成对的“I节点号/文件名”</strong>构成的<strong>列表</strong>。</p>

<blockquote><ul>
<li><p>I节点号是检索I节点表的下标，<strong>I节点中存放有文件的状态信息</strong>。</p></li>
<li><p>每个目录的<strong>第一项都表示目录本身</strong>，用“点（.）”作文它的文件名，每个目录的<strong>第二项的名字用“点点（..）”表示</strong>。这就是当你输入ls显示第一二项是.和..的原因。</p></li>
<li><p>当文件<strong>添加</strong>到一个目录时，改目录的<strong>尺寸会加大，以便容纳新文件名</strong>。当<strong>删除文件</strong>时，目录的尺寸<strong>并不会减小</strong>，而是核心对<strong>该目录项上做特殊标识</strong>，一边下次添加一个文件时<strong>重新使用</strong>它。ls不会列出这些未被使用的项。</p></li>
</ul>
</blockquote>

<ul>
<li><strong>设备文件</strong></li>
</ul>


<p>是一种特别文件，除了在其文件I节点中存放属性信息外，不包含任何数据。系统利用他们来标记各个设备驱动器，核心使用它们与硬件设备通信。</p>

<blockquote><ul>
<li><p>字符设备：最常用的设备文件，允许I/O传送任意大小的数据，取决于设备本身的容量。使用这种接口的设备：终端，打印机及鼠标。</p></li>
<li><p>块设备：利用核心缓冲区的自动缓存机制。缓存区进行I/O传送总是已KB为单位。使用这种接口的设备包括硬盘，软盘和RAM盘。</p></li>
</ul>
</blockquote>

<p>tty可显示设备文件：</p>

<pre><code>$ tty   #=&gt; /dev/pts/1
</code></pre>

<p><em>注意： 设备文件存放在&#8221;/dev/&ldquo;目录下</em></p>

<ul>
<li><strong>符号链接文件：</strong> 存放的<strong>数据</strong>是文件系统<strong>通向文件的路径</strong>。当使用符号链接文件时，核心<strong>自动访问所保存这个路径</strong>。</li>
</ul>


<hr />

<p>讲到这里，我不得不说一下硬链接和软链接。</p>

<h3>什么是链接：</h3>

<p>Linux具有<strong>一个文件起多个名字</strong>的功能，叫做链接。它有两种情况：</p>

<blockquote><ul>
<li><p>被链接的文件存放在<strong>相同的目录</strong>下，但是必须有<strong>不同的文件名</strong>，不用在硬盘上为同样的数据重复备份。</p></li>
<li><p>被链接的文件拥有<strong>相同的文件名</strong>，但是存放在<strong>不同的目录</strong>下。只要在<em>一个目录下的文件做修改，就可以完成对所有目录下同名链接文件的修改</em>。</p></li>
</ul>
</blockquote>

<p>链接形式就这两种：</p>

<h4>硬链接：</h4>

<p>在<strong>别的目录</strong>或<strong>本目录</strong>增加<strong>目标文件</strong>的一个<strong>目录项</strong>(让某目录同样可以访问目标文件)，这样一个文件就<strong>登记</strong>在多个目录中。
创建硬链接后，已经存在的文件节点(Inode)会被多个目录文件项使用。</p>

<p>一个文件的硬链接数可以在目录的长列表格式的第二列中看到，无额外链接的文件的连接数为1。
在默认情况下，<strong>ln命令创建硬链接</strong>。ln会<strong>增加链接数</strong>，<strong>rm命令会减少链接数</strong>。一个文件除非链接数为0，否则不会从文件系统中物理地删除。</p>

<p>限制：</p>

<blockquote><p>不能对目录文件创建硬链接。</p>

<p>不能在不同的文件系统之间做硬链接。链接文件与被链接文件必须位于同一个文件系统。</p></blockquote>

<h4>软链接：（符号链接）</h4>

<p>将一个路径名链接到一个文件。这些文件是一种特殊类型的文件。事实上，它只是一个文本文件，其中包含它提供链接的另一个文件的路径名。
当使用读写文件内容的命令被用于符号链接时，将沿着链接方向前进来访问实际的文件。</p>

<h4>两种链接的区别：</h4>

<ol>
<li><p><strong>符号链接</strong>是一个<strong>新文件</strong>，它具有<strong>不同的I节点</strong>；硬链接并没有建立新文件，只是建立目录项。</p></li>
<li><p>符号链接可以对<strong>目录建立符号链接</strong>，也可在<strong>不同文件系统中建立符号链接</strong>。</p></li>
<li><p><strong>删除源</strong>文件或目录时，<strong>只删除数据，不会删除符号链接</strong>，一旦以同样文件名创建源文件，链接将继续指向该文件的新数据。</p></li>
<li><p>符号链接的大小是链接文件的<strong>路径名的字节数</strong>。</p></li>
</ol>


<h4>命令：</h4>

<pre><code>    ln [选项] 源文件 [目标文件]        # -s建立符号链接
</code></pre>

<hr />
</div>
  
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/19/shi-yong-hostswen-jian-shang-facebookdeng-wang-zhan/">使用hosts文件上facebook等网站</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-19T20:52:00+08:00" pubdate data-updated="true">Oct 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>原因：</h3>

<p>  hosts文件是<strong>本地域名解析文件</strong>,</p>

<blockquote><ul>
<li>系统在访问互联网时先在本机hosts文件中查找对应的<strong>域名解析</strong>（即把你输入的域名变成对应服务器IP地址），</li>
<li>如果没有再去相应的dns服务器查找，网通，电信的dns服务器可能屏蔽facebook等网站的解析，</li>
<li>在本地添加facebook等的记录就能不用<em>外网dns解析</em>，直接在本地解析。</li>
</ul>
</blockquote>

<h3>操作步骤：</h3>

<p>Ubuntu系统的Hosts只需修改/etc/hosts文件，在目录中还有一个hosts.conf文件，但我们需要修改hosts。修改完之后要重启网络。</p>

<ol>
<li><p><strong>修改hosts</strong></p>

<pre><code> sudo vim /etc/hosts
</code></pre></li>
<li><p><strong>添加解析记录（.）</strong></p>

<pre><code>   完整案例：127.0.0.1 localhost.localdomain localhost
   简洁记录：127.0.0.1 localhost
</code></pre></li>
<li><p><strong>保存后重启网络</strong></p>

<pre><code> sudo /etc/init.d/networking restart
</code></pre></li>
</ol>


<h3>这里有份hosts文件供参考：</h3>

<blockquote><p>window hosts文件位置: C盘/windows/system32/drivers/ect
Ubuntu hosts文件位置: /etc/hosts
需要管理员权限,把以下内容复制至hosts文件</p></blockquote>

<pre><code>    127.0.0.1 localhost
    #Google Services START
    203.208.46.200    0.docs.google.com
    203.208.46.200    0.drive.google.com
    203.208.46.200    1.docs.google.com
    203.208.46.200    1.drive.google.com
    203.208.46.200    10.docs.google.com
    203.208.46.200    10.drive.google.com
    203.208.46.200    11.docs.google.com
    203.208.46.200    11.drive.google.com
    203.208.46.200    12.docs.google.com
    203.208.46.200    12.drive.google.com
    203.208.46.200    13.docs.google.com
    203.208.46.200    13.drive.google.com
    203.208.46.200    14.docs.google.com
    203.208.46.200    14.drive.google.com
    203.208.46.200    15.docs.google.com
    203.208.46.200    15.drive.google.com
    203.208.46.200    16.docs.google.com
    203.208.46.200    16.drive.google.com
    203.208.46.200    2.docs.google.com
    203.208.46.200    2.drive.google.com
    203.208.46.200    3.docs.google.com
    203.208.46.200    3.drive.google.com
    203.208.46.200    4.docs.google.com
    203.208.46.200    4.drive.google.com
    203.208.46.200    5.docs.google.com
    203.208.46.200    5.drive.google.com
    203.208.46.200    6.docs.google.com
    203.208.46.200    6.drive.google.com
    203.208.46.200    7.docs.google.com
    203.208.46.200    7.drive.google.com
    203.208.46.200    8.docs.google.com
    203.208.46.200    8.drive.google.com
    203.208.46.200    9.docs.google.com
    203.208.46.200    9.drive.google.com
    203.208.46.200    accounts.google.com
    203.208.46.200    accounts.l.google.com
    203.208.46.200    answers.google.com
    203.208.46.200    apis.google.com
    203.208.46.200    appengine.google.com
    203.208.46.200    apps.google.com
    203.208.46.200    appspot.l.google.com
    203.208.46.200    bks0.books.google.com
    203.208.46.200    bks1.books.google.com
    203.208.46.200    bks10.books.google.com
    203.208.46.200    bks2.books.google.com
    203.208.46.200    bks3.books.google.com
    203.208.46.200    bks4.books.google.com
    203.208.46.200    bks5.books.google.com
    203.208.46.200    bks6.books.google.com
    203.208.46.200    bks7.books.google.com
    203.208.46.200    bks8.books.google.com
    203.208.46.200    bks9.books.google.com
    203.208.46.200    blogsearch.google.com
    203.208.46.200    books.google.com
    203.208.46.200    browserchannel-docs.l.google.com
    203.208.46.200    browserchannel-spreadsheets.l.google.com
    203.208.46.200    browsersync.google.com
    203.208.46.200    browsersync.l.google.com
    203.208.46.200    buzz.google.com
    203.208.46.200    cache.l.google.com
    203.208.46.200    cache.pack.google.com
    203.208.46.200    calendar.google.com
    203.208.46.200    cbk0.google.com
    203.208.46.200    cbk1.google.com
    203.208.46.200    cbk2.google.com
    203.208.46.200    cbk3.google.com
    203.208.46.200    cbks0.google.com
    203.208.46.200    cbks1.google.com
    203.208.46.200    cbks2.google.com
    203.208.46.200    cbks3.google.com
    203.208.46.200    chart.apis.google.com
    203.208.46.221    chatenabled.mail.google.com
    203.208.46.200    checkout.google.com
    203.208.46.200    checkout.l.google.com
    203.208.46.200    chrome.google.com
    203.208.46.200    clients.l.google.com
    203.208.46.200    clients1.google.com
    203.208.46.200    clients2.google.com
    203.208.46.200    clients3.google.com
    203.208.46.200    clients4.google.com
    203.208.46.200    clients5.google.com
    203.208.46.200    clients6.google.com
    203.208.46.200    clients7.google.com
    203.208.46.200    code.google.com
    203.208.46.200    code.l.google.com
    203.208.46.200    csi.l.google.com
    203.208.46.200    desktop.google.com
    203.208.46.200    desktop.l.google.com
    203.208.46.200    desktop2.google.com
    203.208.46.200    developers.google.com
    203.208.46.200    ditu.google.com
    203.208.46.200    dl.google.com
    203.208.46.200    dl.l.google.com
    203.208.46.200    dl-ssl.google.com
    203.208.46.200    docs.google.com
    203.208.46.200    docs0.google.com
    203.208.46.200    docs1.google.com
    203.208.46.200    docs2.google.com
    203.208.46.200    docs3.google.com
    203.208.46.200    docs4.google.com
    203.208.46.200    docs5.google.com
    203.208.46.200    docs6.google.com
    203.208.46.200    docs7.google.com
    203.208.46.200    docs8.google.com
    203.208.46.200    docs9.google.com
    203.208.46.200    drive.google.com
    203.208.46.200    drive0.google.com
    203.208.46.200    drive1.google.com
    203.208.46.200    drive2.google.com
    203.208.46.200    drive3.google.com
    203.208.46.200    drive4.google.com
    203.208.46.200    drive5.google.com
    203.208.46.200    drive6.google.com
    203.208.46.200    drive7.google.com
    203.208.46.200    drive8.google.com
    203.208.46.200    drive9.google.com
    203.208.46.200    earth.google.com
    203.208.46.200    encrypted.google.com
    203.208.46.200    encrypted-tbn.l.google.com
    203.208.46.200    encrypted-tbn0.google.com
    203.208.46.200    encrypted-tbn1.google.com
    203.208.46.200    encrypted-tbn2.google.com
    203.208.46.200    encrypted-tbn3.google.com
    203.208.46.200    feedburner.google.com
    203.208.46.200    feedproxy.google.com
    203.208.46.221    filetransferenabled.mail.google.com
    203.208.46.200    finance.google.com
    203.208.46.200    fusion.google.com
    203.208.46.200    geoauth.google.com
    203.208.46.200    gg.google.com
    203.208.46.200    ghs.google.com
    203.208.46.200    ghs.l.google.com
    203.208.46.200    ghs46.google.com
    203.208.46.200    ghs46.l.google.com
    203.208.46.200    google.com
    203.208.46.200    googleapis.l.google.com
    203.208.46.200    googleapis-ajax.google.com
    203.208.46.200    googleapis-ajax.l.google.com
    203.208.46.200    googlecode.l.google.com
    203.208.46.200    google-public-dns-a.google.com
    203.208.46.200    google-public-dns-b.google.com
    203.208.46.200    goto.google.com
    203.208.46.200    groups.google.com
    203.208.46.200    groups.l.google.com
    203.208.46.200    groups-beta.google.com
    203.208.46.200    gxc.google.com
    203.208.46.200    id.google.com
    203.208.46.200    id.l.google.com
    203.208.46.200    images.google.com
    203.208.46.200    images.l.google.com
    203.208.46.200    investor.google.com
    203.208.46.200    jmt0.google.com
    203.208.46.200    kh.google.com
    203.208.46.200    kh.l.google.com
    203.208.46.200    khm.google.com
    203.208.46.200    khm.l.google.com
    203.208.46.200    khm0.google.com
    203.208.46.200    khm1.google.com
    203.208.46.200    khm2.google.com
    203.208.46.200    khm3.google.com
    203.208.46.200    khmdb.google.com
    203.208.46.200    khms.google.com
    203.208.46.200    khms.l.google.com
    203.208.46.200    khms0.google.com
    203.208.46.200    khms1.google.com
    203.208.46.200    khms2.google.com
    203.208.46.200    khms3.google.com
    203.208.46.200    labs.google.com
    203.208.46.200    large-uploads.l.google.com
    203.208.46.200    lh2.google.com
    203.208.46.200    lh2.l.google.com
    203.208.46.200    lh3.google.com
    203.208.46.200    lh4.google.com
    203.208.46.200    lh5.google.com
    203.208.46.200    lh6.google.com
    203.208.46.200    linkhelp.clients.google.com
    203.208.46.200    local.google.com
    203.208.46.200    m.google.com
    203.208.46.213    mail.google.com
    203.208.46.200    map.google.com
    203.208.46.200    maps.google.com
    203.208.46.200    maps.l.google.com
    203.208.46.200    maps-api-ssl.google.com
    203.208.46.200    mars.google.com
    203.208.46.200    mobile.l.google.com
    203.208.46.200    mobile-gtalk.l.google.com
    203.208.46.200    mobilemaps.clients.google.com
    203.208.46.200    mt.google.com
    203.208.46.200    mt.l.google.com
    203.208.46.200    mt0.google.com
    203.208.46.200    mt1.google.com
    203.208.46.200    mt2.google.com
    203.208.46.200    mt3.google.com
    #203.208.46.200   mtalk.google.com
    203.208.46.200    mts.google.com
    203.208.46.200    mts.l.google.com
    203.208.46.200    mts0.google.com
    203.208.46.200    mts1.google.com
    203.208.46.200    mts2.google.com
    203.208.46.200    mts3.google.com
    203.208.46.200    music.google.com
    203.208.46.200    music-streaming.l.google.com
    203.208.46.200    mw1.google.com
    203.208.46.200    mw2.google.com
    203.208.46.200    news.google.com
    203.208.46.200    news.l.google.com
    203.208.46.200    pack.google.com
    203.208.46.200    photos.google.com
    203.208.46.200    photos-ugc.l.google.com
    203.208.46.200    picasa.google.com
    203.208.46.200    picasaweb.google.com
    203.208.46.200    picasaweb.l.google.com
    203.208.46.200    places.google.com
    203.208.46.200    play.google.com
    203.208.46.200    productforums.google.com
    203.208.46.200    profiles.google.com
    203.208.46.200    reader.google.com
    203.208.46.200    safebrowsing.cache.l.google.com
    203.208.46.200    safebrowsing.clients.google.com
    203.208.46.200    safebrowsing.google.com
    203.208.46.200    safebrowsing-cache.google.com
    203.208.46.200    sandbox.google.com
    203.208.46.200    sb.google.com
    203.208.46.200    sb.l.google.com
    203.208.46.200    sb-ssl.google.com
    203.208.46.200    sb-ssl.l.google.com
    203.208.46.200    scholar.google.com
    203.208.46.200    scholar.l.google.com
    203.208.46.200    script.google.com
    203.208.46.200    services.google.com
    203.208.46.200    sites.google.com
    203.208.46.200    sketchup.google.com
    203.208.46.200    sketchup.l.google.com
    203.208.46.200    spreadsheet.google.com
    203.208.46.200    spreadsheets.google.com
    203.208.46.200    spreadsheets.l.google.com
    203.208.46.200    spreadsheets0.google.com
    203.208.46.200    spreadsheets1.google.com
    203.208.46.200    spreadsheets2.google.com
    203.208.46.200    spreadsheets3.google.com
    203.208.46.200    spreadsheets4.google.com
    203.208.46.200    spreadsheets5.google.com
    203.208.46.200    spreadsheets6.google.com
    203.208.46.200    spreadsheets7.google.com
    203.208.46.200    spreadsheets8.google.com
    203.208.46.200    spreadsheets9.google.com
    203.208.46.200    spreadsheets-china.l.google.com
    203.208.46.200    suggestqueries.google.com
    203.208.46.200    suggestqueries.l.google.com
    203.208.46.200    support.google.com
    173.194.70.125    talk.google.com
    203.208.46.200    talkgadget.google.com
    203.208.46.200    tbn0.google.com
    203.208.46.200    tbn1.google.com
    203.208.46.200    tbn2.google.com
    203.208.46.200    tbn3.google.com
    203.208.46.200    toolbar.google.com
    203.208.46.200    toolbarqueries.clients.google.com
    203.208.46.200    toolbarqueries.google.com
    203.208.46.200    toolbarqueries.l.google.com
    203.208.46.200    tools.google.com
    203.208.46.200    tools.l.google.com
    203.208.46.200    translate.google.com
    203.208.46.200    trends.google.com
    203.208.46.200    upload.docs.google.com
    203.208.46.200    upload.drive.google.com
    203.208.46.200    uploads.code.google.com
    203.208.46.200    uploadsj.clients.google.com
    203.208.46.200    v3.cache1.c.docs.google.com
    203.208.46.200    video.google.com
    203.208.46.200    video-stats.l.google.com
    203.208.46.200    voice.google.com
    203.208.46.200    wallet.google.com
    203.208.46.200    wifi.google.com
    203.208.46.200    wifi.l.google.com
    203.208.46.200    wire.l.google.com
    203.208.46.200    writely.google.com
    203.208.46.200    writely.l.google.com
    203.208.46.200    writely-china.l.google.com
    203.208.46.200    writely-com.l.google.com
    203.208.46.200    www.google.com
    203.208.46.200    www.l.google.com
    203.208.46.200    www2.l.google.com
    203.208.46.200    www3.l.google.com
    203.208.46.200    www4.l.google.com
    203.208.46.200    ytstatic.l.google.com
    203.208.46.202    0-open-opensocial.googleusercontent.com
    203.208.46.202    0-focus-opensocial.googleusercontent.com
    203.208.46.202    1-focus-opensocial.googleusercontent.com
    203.208.46.202    1-open-opensocial.googleusercontent.com
    203.208.46.202    1-ps.googleusercontent.com
    203.208.46.202    2-focus-opensocial.googleusercontent.com
    203.208.46.202    2-open-opensocial.googleusercontent.com
    203.208.46.202    2-ps.googleusercontent.com
    203.208.46.202    3-focus-opensocial.googleusercontent.com
    203.208.46.202    3-ps.googleusercontent.com
    203.208.46.202    3hdrrlnlknhi77nrmsjnjr152ueo3soc-a-calendar-opensocial.googleusercontent.com
    203.208.46.202    3-open-opensocial.googleusercontent.com
    203.208.46.202    4-ps.googleusercontent.com
    203.208.46.202    4fjvqid3r3oq66t548clrdj52df15coc-a-oz-opensocial.googleusercontent.com
    203.208.46.202    53rd6p0catml6vat6qra84rs0del836d-a-oz-opensocial.googleusercontent.com
    203.208.46.202    59cbv4l9s05pbaks9v77vc3mengeqors-a-oz-opensocial.googleusercontent.com
    203.208.46.202    8kubpeu8314p2efdd7jlv09an9i2ljdo-a-oz-opensocial.googleusercontent.com
    203.208.46.202    adstvca8k2ooaknjjmv89j22n9t676ve-a-oz-opensocial.googleusercontent.com
    203.208.46.202    a-oz-opensocial.googleusercontent.com
    203.208.46.202    blogger.googleusercontent.com
    203.208.46.202    bt26mravu2qpe56n8gnmjnpv2inl84bf-a-oz-opensocial.googleusercontent.com
    203.208.46.202    clients1.googleusercontent.com
    203.208.46.202    clients2.googleusercontent.com
    203.208.46.202    clients3.googleusercontent.com
    203.208.46.202    clients4.googleusercontent.com
    203.208.46.202    clients5.googleusercontent.com
    203.208.46.202    clients6.googleusercontent.com
    203.208.46.202    clients7.googleusercontent.com
    203.208.46.202    code-opensocial.googleusercontent.com
    203.208.46.202    debh8vg7vd93bco3prdajidmm7dhql3f-a-oz-opensocial.googleusercontent.com
    203.208.46.202    doc-00-7o-docs.googleusercontent.com
    203.208.46.202    doc-08-7o-docs.googleusercontent.com
    203.208.46.202    doc-0c-7o-docs.googleusercontent.com
    203.208.46.202    doc-0g-7o-docs.googleusercontent.com
    203.208.46.202    doc-0s-7o-docs.googleusercontent.com
    203.208.46.202    doc-10-7o-docs.googleusercontent.com
    203.208.46.202    doc-14-7o-docs.googleusercontent.com
    203.208.46.202    feedback.googleusercontent.com
    203.208.46.202    googlehosted.l.googleusercontent.com
    203.208.46.202    gp0.googleusercontent.com
    203.208.46.202    gp1.googleusercontent.com
    203.208.46.202    gp2.googleusercontent.com
    203.208.46.202    gp3.googleusercontent.com
    203.208.46.202    gp4.googleusercontent.com
    203.208.46.202    gp5.googleusercontent.com
    203.208.46.202    gp6.googleusercontent.com
    203.208.46.202    hsco54a20sh11q9jkmb51ad2n3hmkmrg-a-oz-opensocial.googleusercontent.com
    203.208.46.202    i8brh95qor6r54nkl52hidj2ggcs4jgm-a-oz-opensocial.googleusercontent.com
    203.208.46.202    images1-focus-opensocial.googleusercontent.com
    203.208.46.202    images2-focus-opensocial.googleusercontent.com
    203.208.46.202    images3-focus-opensocial.googleusercontent.com
    203.208.46.202    images4-focus-opensocial.googleusercontent.com
    203.208.46.202    images5-focus-opensocial.googleusercontent.com
    203.208.46.202    images6-focus-opensocial.googleusercontent.com
    203.208.46.202    images7-focus-opensocial.googleusercontent.com
    203.208.46.202    images8-focus-opensocial.googleusercontent.com
    203.208.46.202    images9-focus-opensocial.googleusercontent.com
    203.208.46.202    images-docs-opensocial.googleusercontent.com
    203.208.46.202    images-oz-opensocial.googleusercontent.com
    203.208.46.202    k6v18tjr24doa89b55o3na41kn4v73eb-a-oz-opensocial.googleusercontent.com
    203.208.46.202    lh1.googleusercontent.com
    203.208.46.202    lh2.googleusercontent.com
    203.208.46.202    lh3.googleusercontent.com
    203.208.46.202    lh4.googleusercontent.com
    203.208.46.202    lh5.googleusercontent.com
    203.208.46.202    lh6.googleusercontent.com
    203.208.46.202    mail-attachment.googleusercontent.com
    203.208.46.202    music.googleusercontent.com
    203.208.46.202    music-onebox.googleusercontent.com
    203.208.46.202    oauth.googleusercontent.com
    203.208.46.202    ob7f2qc0i50kbjnc81vkhgmb5hsv7a8l-a-oz-opensocial.googleusercontent.com
    203.208.46.202    ode25pfjgmvpquh3b1oqo31ti5ibg5fr-a-calendar.opensocial.googleusercontent.com
    203.208.46.202    qhie5b8u979rnch1q0hqbrmbkn9estf7-a-oz-opensocial.googleusercontent.com
    203.208.46.202    r70rmsn4s0rhk6cehcbbcbfbs31pu0va-a-oz-opensocial.googleusercontent.com
    203.208.46.202    rbjhe237k979f79d87gmenp3gejfonu9-a-oz-opensocial.googleusercontent.com
    203.208.46.202    s1.googleusercontent.com
    203.208.46.202    s2.googleusercontent.com
    203.208.46.202    s3.googleusercontent.com
    203.208.46.202    s4.googleusercontent.com
    203.208.46.202    s5.googleusercontent.com
    203.208.46.202    s6.googleusercontent.com
    203.208.46.202    spreadsheets-opensocial.googleusercontent.com
    203.208.46.202    static.googleusercontent.com
    203.208.46.202    t.doc-0-0-sj.sj.googleusercontent.com
    203.208.46.202    themes.googleusercontent.com
    203.208.46.202    translate.googleusercontent.com
    203.208.46.202    u807isd5egseeabjccgcns005p2miucq-a-oz-opensocial.googleusercontent.com
    203.208.46.202    upt14k1i2veesusrda9nfotcrbp9d7p5-a-oz-opensocial.googleusercontent.com
    203.208.46.202    webcache.googleusercontent.com
    203.208.46.202    www.googleusercontent.com
    203.208.46.202    www-calendar-opensocial.googleusercontent.com
    203.208.46.202    www-fc-opensocial.googleusercontent.com
    203.208.46.202    www-focus-opensocial.googleusercontent.com
    203.208.46.202    www-gm-opensocial.googleusercontent.com
    203.208.46.202    www-kix-opensocial.googleusercontent.com
    203.208.46.202    www-open-opensocial.googleusercontent.com
    203.208.46.202    www-opensocial.googleusercontent.com
    203.208.46.202    www-opensocial-sandbox.googleusercontent.com
    203.208.46.202    www-oz-opensocial.googleusercontent.com
    203.208.46.207    csi.gstatic.com
    203.208.46.207    g0.gstatic.com
    203.208.46.207    g1.gstatic.com
    203.208.46.207    g2.gstatic.com
    203.208.46.207    g3.gstatic.com
    203.208.46.207    maps.gstatic.com
    203.208.46.207    mt0.gstatic.com
    203.208.46.207    mt1.gstatic.com
    203.208.46.207    mt2.gstatic.com
    203.208.46.207    mt3.gstatic.com
    203.208.46.207    mt4.gstatic.com
    203.208.46.207    mt5.gstatic.com
    203.208.46.207    mt6.gstatic.com
    203.208.46.207    mt7.gstatic.com
    203.208.46.207    ssl.gstatic.com
    203.208.46.207    t0.gstatic.com
    203.208.46.207    t1.gstatic.com
    203.208.46.207    t2.gstatic.com
    203.208.46.207    t3.gstatic.com
    203.208.46.207    www.gstatic.com
    203.208.46.170    lh1.ggpht.com
    203.208.46.170    lh2.ggpht.com
    203.208.46.170    lh3.ggpht.com
    203.208.46.170    lh4.ggpht.com
    203.208.46.170    lh5.ggpht.com
    203.208.46.170    lh6.ggpht.com
    203.208.46.170    nt0.ggpht.com
    203.208.46.170    nt1.ggpht.com
    203.208.46.170    nt2.ggpht.com
    203.208.46.170    nt3.ggpht.com
    203.208.46.170    nt4.ggpht.com
    203.208.46.170    nt5.ggpht.com
    203.208.46.200    appspot.com
    173.194.64.141    chrometophone.appspot.com
    203.208.46.200    evolutionofweb.appspot.com
    203.208.46.200    googcloudlabs.appspot.com
    203.208.46.200    gv-gadget.appspot.com
    203.208.46.200    magnifier.blogspot.com
    203.208.46.200    moderator.appspot.com
    203.208.46.200    newsfeed-dot-latest-dot-rovio-ad-engine.appspot.com
    203.208.46.200    productideas.appspot.com
    203.208.46.200    project-slingshot-gp.appspot.com
    203.208.46.200    r2303.latest.project-slingshot-hr.appspot.com
    203.208.46.200    r3085-dot-latest-dot-project-slingshot-gp.appspot.com
    203.208.46.200    r3091-dot-latest-dot-project-slingshot-gp.appspot.com
    203.208.46.200    r3101-dot-latest-dot-project-slingshot-gp.appspot.com
    203.208.46.200    r3269-dot-latest-dot-project-slingshot-gp.appspot.com
    203.208.46.200    r3432-dot-latest-dot-project-slingshot-hr.appspot.com
    203.208.46.200    r4681-dot-latest-dot-project-slingshot-hr.appspot.com
    203.208.46.170    r7647-dot-latest-dot-project-slingshot-hr.appspot.com
    203.208.46.200    wcproxyx.appspot.com
    203.208.46.200    www.appspot.com
    203.208.46.200    ajax.googleapis.com
    203.208.46.200    chart.googleapis.com
    203.208.46.200    fonts.googleapis.com
    203.208.46.200    maps.googleapis.com
    203.208.46.200    mt0.googleapis.com
    203.208.46.200    mt1.googleapis.com
    203.208.46.200    mt2.googleapis.com
    203.208.46.200    mt3.googleapis.com
    203.208.46.200    redirector-bigcache.googleapis.com
    203.208.46.200    translate.googleapis.com
    173.194.66.95 www.googleapis.com
    203.208.46.200    autoproxy-gfwlist.googlecode.com
    203.208.46.200    chromium.googlecode.com
    203.208.46.200    closure-library.googlecode.com
    203.208.46.200    earth-api-samples.googlecode.com
    203.208.46.200    gmaps-samples-flash.googlecode.com
    203.208.46.200    google-code-feed-gadget.googlecode.com
    203.208.46.200    blogsearch.google.cn
    203.208.46.200    ditu.google.cn
    203.208.46.200    gg.google.cn
    203.208.46.200    id.google.cn
    203.208.46.200    maps.gstatic.cn
    203.208.46.200    m.google.cn
    203.208.46.200    mt.google.cn
    203.208.46.200    mt0.google.cn
    203.208.46.200    mt1.google.cn
    203.208.46.200    mt2.google.cn
    203.208.46.200    mt3.google.cn
    203.208.46.200    news.google.cn
    203.208.46.200    scholar.google.cn
    203.208.46.200    translate.google.cn
    203.208.46.200    www.google.cn
    203.208.46.200    www.gstatic.cn
    203.208.46.200    accounts.google.com.hk
    203.208.46.200    blogsearch.google.com.hk
    203.208.46.200    books.google.com.hk
    203.208.46.200    clients1.google.com.hk
    203.208.46.200    desktop.google.com.hk
    203.208.46.200    encrypted.google.com.hk
    203.208.46.200    groups.google.com.hk
    203.208.46.200    gxc.google.com.hk
    203.208.46.200    id.google.com.hk
    203.208.46.200    images.google.com.hk
    203.208.46.200    m.google.com.hk
    203.208.46.200    maps.google.com.hk
    203.208.46.200    news.google.com.hk
    203.208.46.200    picasaweb.google.com.hk
    203.208.46.200    plus.url.google.com.hk
    203.208.46.200    scholar.google.com.hk
    203.208.46.200    toolbar.google.com.hk
    203.208.46.200    toolbarqueries.google.com.hk
    203.208.46.200    translate.google.com.hk
    203.208.46.200    translate.google.com.hk
    203.208.46.200    wenda.google.com.hk
    203.208.46.200    www.google.com.hk
    203.208.46.200    accounts.blogger.com
    203.208.46.200    android.googlesource.com
    203.208.46.200    auth.keyhole.com
    203.208.46.200    chrome.angrybirds.com
    203.208.46.200    developer.android.com
    203.208.46.200    domains.googlesyndication.com
    203.208.46.200    earthengine.googlelabs.com
    203.208.46.200    feeds.feedburner.com
    203.208.46.200    g.co
    203.208.46.200    goo.gl
    203.208.46.162    listen.googlelabs.com
    203.208.46.200    m.googlemail.com
    203.208.46.200    market.android.com
    203.208.46.163    ngrams.googlelabs.com
    173.194.37.99 panoramio.com
    203.208.46.222    smarthosts.googlecode.com
    203.208.46.222    ssl.google-analytics.com
    173.194.76.128    static.panoramio.com
    203.208.46.200    www.blogger.com
    203.208.46.200    www.googleadservices.com
    203.208.46.222    www.google-analytics.com
    203.208.46.200    www.googlelabs.com
    203.208.46.222    www.googlesource.com
    173.194.37.99 www.panoramio.com
    203.208.46.200    plus.google.com
    203.208.46.200    plus.url.google.com
    203.208.46.200    plusone.google.com
    #Google Services END
    #Facebook Start
    173.252.112.28    api-read.facebook.com
    173.252.112.28    api.facebook.com
    173.252.112.28    apps.facebook.com
    61.213.189.98 b.static.ak.facebook.com
    61.213.189.120    b.static.ak.fbcdn.net
    66.220.145.63 bigzipfiles.facebook.com
    61.213.189.113    creative.ak.fbcdn.net
    66.152.103.74 external.ak.fbcdn.net
    66.220.149.88 c.facebook.com
    69.171.227.26 chat.facebook.com
    66.220.147.96 check4.facebook.com
    184.31.111.139    connect.facebook.net
    69.171.227.19 creativeupload.facebook.com
    69.171.240.99 d.facebook.com
    173.252.100.17    developers.facebook.com
    66.220.149.90 error.facebook.com
    173.252.100.18    facebook.com
    61.213.189.113    fbcdn.net
    64.213.102.26 fbcdn-profile-a.akamaihd.net
    173.223.232.67    fbcdn-sphotos-a.akamaihd.net
    173.252.112.28    graph.facebook.com
    66.220.151.33 hphotos-ak-snc1.facebook.com
    66.220.151.33 hphotos-ak-snc3.facebook.com
    69.171.240.10 hphotos-ash4.fbcdn.net
    69.63.183.200 hphotos-pao1.fbcdn.net
    66.220.151.33 hphotos-snc1.fbcdn.net
    66.220.151.32 hphotos-snc3.fbcdn.net
    66.220.151.22 hphotos-snc6.fbcdn.net
    69.171.227.24 hphotos-snc7.fbcdn.net
    66.220.144.43 ldap.thefacebook.com
    173.252.100.25    m.facebook.com
    66.220.149.96 o.facebook.com
    173.252.112.28    orcart.facebook.com
    69.171.245.18 photos-ak-ash1.facebook.com
    69.171.245.18 photos-ash1.facebook.com
    66.220.149.90 pixel.facebook.com
    118.214.190.105   profile.ak.facebook.com
    61.213.189.114    profile.ak.fbcdn.net
    69.171.247.22 s-static.facebook.com
    61.213.189.113    s-hprofile-sf2p.fbcdn.net
    184.26.194.110    s-static.ak.facebook.com
    23.5.157.177  s-static.ak.fbcdn.net
    69.171.227.30 secure-media.facebook.com
    69.171.227.30 secure-media.fbcdn.net
    66.220.149.96 ssl.facebook.com
    69.171.247.38 ssl.connect.facebook.com
    69.63.189.76  star.facebook.com
    61.213.189.98 static.ak.facebook.com
    65.32.34.136  static.ak.fbcdn.net
    69.171.229.17 upload.facebook.com
    66.220.144.41 vpn.tfbnw.net
    120.29.145.50 vthumb.ak.fbcdn.net
    66.220.151.31 vupload.facebook.com
    69.171.225.31 www.connect.facebook.com
    173.252.112.28    www.facebook.com
    173.252.112.28    zh-CN.facebook.com
    #Facebook End
    #Flickr START
    98.136.43.76  geo.yahoo.com
    68.142.250.161    l.yimg.com
    96.6.93.227   s.yimg.com
    98.137.88.88  d.yimg.com
    68.142.196.57 c5.ah.yahoo.com
    124.108.120.124   sa.edit.yahoo.com
    66.163.168.247    open.login.yahoo.com
    124.108.97.193    login.yahoo.com
    209.191.92.115    edit.yahoo.com
    209.191.121.31    up.flickr.com
    209.191.105.102   adjax.flickr.yahoo.com
    204.0.5.35    content.yieldmanager.edgesuite.net
    204.0.5.34    us.js2.yimg.com
    #data from HostsX
    68.142.214.24 flickr.com
    66.196.66.157 www.flickr.com
    68.142.214.43 static.flickr.com
    77.238.160.184    static.flickr.com
    209.191.105.102   adjax.flickr.yahoo.com
    68.142.214.43 farm1.staticflickr.com
    68.142.214.43 mud.farm1.staticflickr.com
    69.147.90.159 farm2.staticflickr.com
    69.147.90.159 sp1.farm2.staticflickr.com
    77.238.160.184    farm3.staticflickr.com
    98.137.205.236    bf1.farm3.staticflickr.com
    216.39.54.34  gq1.farm3.staticflickr.com
    69.147.90.215 sp1.farm3.staticflickr.com
    76.13.18.77   farm4.staticflickr.com
    76.13.18.77   ac4.farm4.staticflickr.com
    67.195.19.62  gq1.farm4.staticflickr.com
    76.13.18.79   farm5.staticflickr.com
    67.195.19.65  gq1.farm5.staticflickr.com
    98.136.171.208    farm6.staticflickr.com
    98.139.21.45  bf1.farm6.staticflickr.com
    98.136.171.208    gq1.farm6.staticflickr.com
    98.138.250.88 farm7.staticflickr.com
    98.139.235.135    bf1.farm7.staticflickr.com
    98.138.250.88 ne1.farm7.staticflickr.com
    #Flickr END
    #Twitter START
    199.16.156.18 twitter.com
    199.16.156.18 mobile.twitter.com
    199.16.156.18 api.twitter.com
    199.16.156.47 pic.twitter.com
    199.59.148.136    stream.twitter.com
    199.59.148.137    sitestream.twitter.com
    199.59.148.135    betastream.twitter.com
    199.59.148.148    upload.twitter.com
    199.59.149.137    dev.twitter.com
    199.59.149.91 pay.twitter.com
    199.59.148.149    urls-real.api.twitter.com
    199.16.156.81 userstream.twitter.com
    199.16.156.12 support.twitter.com
    #199.59.148.210   t.co
    69.58.188.34  bitly.com
    208.87.33.151 api.mobilepicture.com
    199.59.148.16 a0.twimg.com
    199.59.148.16 a1.twimg.com
    199.59.148.16 p.twimg.com
    184.169.75.33 si0.twimg.com
    184.169.75.33 si1.twimg.com
    184.169.75.33 si2.twimg.com
    184.169.75.33 si3.twimg.com
    184.169.75.33 si4.twimg.com
    184.169.75.33 si5.twimg.com
    199.16.156.77 image-proxy-origin.twimg.com
    209.17.70.144 oi40.tinypic.com
    209.17.70.143 oi41.tinypic.com
    209.17.70.143 oi42.tinypic.com
    209.17.70.143 oi43.tinypic.com
    209.17.70.143 oi44.tinypic.com
    209.17.70.143 oi45.tinypic.com
    209.17.70.143 oi46.tinypic.com
    209.17.70.143 oi47.tinypic.com
    209.17.70.143 oi48.tinypic.com
    209.17.70.143 oi49.tinypic.com
    209.17.70.143 oi50.tinypic.com
    209.17.70.144 oi51.tinypic.com
    209.17.70.144 oi52.tinypic.com
    209.17.70.144 oi53.tinypic.com
    209.17.70.144 oi54.tinypic.com
    209.17.70.144 oi55.tinypic.com
    209.17.70.144 oi56.tinypic.com
    50.97.168.42  web1.twitpic.com
    50.23.200.233 web10.twitpic.com
    50.97.168.43  web2.twitpic.com
    50.97.168.43  web3.twitpic.com
    50.97.168.40  web4.twitpic.com
    50.97.168.41  web5.twitpic.com
    50.23.200.231 web6.twitpic.com
    50.23.200.232 web7.twitpic.com
    50.23.200.229 web8.twitpic.com
    50.23.200.228 web9.twitpic.com
    174.37.33.172 m1.twitpic.com
    50.23.200.230 twitpic.com
    208.94.0.61   a.yfrog.com
    208.94.0.61   yfrog.com
    208.94.0.61   www.yfrog.com
    #Twitter END
    #Adobe Activation START
    0.0.0.0   3dns-2.adobe.com
    0.0.0.0   3dns-3.adobe.com
    0.0.0.0   activate.adobe.com
    0.0.0.0   activate-sea.adobe.com
    0.0.0.0   activate-sjc0.adobe.com
    0.0.0.0   adobe-dns.adobe.com
    0.0.0.0   adobe-dns-2.adobe.com
    0.0.0.0   adobe-dns-3.adobe.com
    0.0.0.0   ereg.adobe.com
    0.0.0.0   hl2rcv.adobe.com
    0.0.0.0   practivate.adobe.com
    0.0.0.0   wip3.adobe.com
    0.0.0.0   activate.wip3.adobe.com
    0.0.0.0   ereg.wip3.adobe.com
    0.0.0.0   wwis-dubc1-vip60.adobe.com
    #Adobe Activation END
    #YouTube START
    203.208.46.206    accounts.youtube.com
    203.208.46.206    apiblog.youtube.com
    203.208.46.206    help.youtube.com
    203.208.46.206    i.ytimg.com
    203.208.46.206    i1.ytimg.com
    203.208.46.206    i2.ytimg.com
    203.208.46.206    i3.ytimg.com
    203.208.46.206    i4.ytimg.com
    203.208.46.206    insight.youtube.com
    203.208.46.206    m.youtube.com
    203.208.46.206    s.ytimg.com
    203.208.46.206    www.youtube.com
    203.208.46.206    ytimg.l.google.com
    #YouTube END
    #GitHub START
    204.232.175.78    documentcloud.github.com
    207.97.227.239    github.com
    204.232.175.94    gist.github.com
    107.20.136.254    help.github.com
    207.97.227.252    nodeload.github.com
    199.27.76.130 raw.github.com
    107.22.3.110  status.github.com
    204.232.175.78    training.github.com
    207.97.227.243    www.github.com
    #GitHub END
    #Feedly START
    173.194.79.141    feedly-beta.appspot.com
    173.194.74.121    s3.feedly.com
    #Feedly END
    #Others START
    38.229.72.14  www.torproject.org
    #Others END
</code></pre>

<blockquote><p><strong>注意</strong>：当然，也可以自己找ip;方法：<strong>ping</strong>对应的网站，获取相应的ip，能通就可以用&hellip;</p></blockquote>
</div>
  
  

</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - TsaiKoga -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tsaikogablog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
