
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Vim配置 - TsaiKoga Blog</title>
    <meta name="author" content="TsaiKoga">
    
	<meta name="description" content="说到vim，大家应该都不陌生。它是类似于vi的编辑器，在vi的基础上增加了很多新特性。 目录 1 vim 中容易忘掉但非常有用的命令 2 .vimrc配置文件 2.1 基本配置说明 2.2 括号补全 3 VIM 常用插件 3.1 NERDTree 目录树 3.2 NERDCommenter 注释 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="TsaiKoga Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='https://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->
    <script src="/javascripts/ajaxify.js"></script>

    
    
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-42786505-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        TsaiKoga
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  
  
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/archives/index.html">Archives</a></li>
	<li><a href="/MyResume">My Resume</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
    
</ul>




</header>

    <section id="sidebar">
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/css'>CSS (1)</a></li><li><a href='/blog/categories/editor'>Editor (2)</a></li><li><a href='/blog/categories/git'>Git (1)</a></li><li><a href='/blog/categories/javascript'>Javascript (2)</a></li><li><a href='/blog/categories/linux'>Linux (4)</a></li><li><a href='/blog/categories/mysql'>Mysql (4)</a></li><li><a href='/blog/categories/net'>Net (1)</a></li><li><a href='/blog/categories/nosql'>Nosql (2)</a></li><li><a href='/blog/categories/projectmanagement'>ProjectManagement (4)</a></li><li><a href='/blog/categories/rails'>Rails (9)</a></li><li><a href='/blog/categories/security'>Security (1)</a></li><li><a href='/blog/categories/seo'>SEO (1)</a></li></ul>
</section>


<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        <article class="post">
	<h2 class="title">Vim配置</h2>
	<div class="entry-content"><p>说到vim，大家应该都不陌生。它是类似于vi的编辑器，在vi的基础上增加了很多新特性。</p>

<p><img src="/images/posts/2013-10-22/vim.jpg" title="Vim图" alt="图片无法显示" /></p>

<h2>目录</h2>

<h4><a href="#1">1 vim 中容易忘掉但非常有用的命令</a></h4>

<h4><a href="#2">2 .vimrc配置文件</a></h4>

<h5><a href="#2.1">2.1 基本配置说明</a></h5>

<h5><a href="#2.2">2.2 括号补全</a></h5>

<h4><a href="#3">3 VIM 常用插件</a></h4>

<h5><a href="#3.1">3.1 NERDTree 目录树</a></h5>

<h5><a href="#3.2">3.2 NERDCommenter 注释</a></h5>

<h5><a href="#3.3">3.3 Scsope 跳转</a></h5>

<br/>


<br/>




<h2 id='1'>1 vim 中容易忘掉但非常有用的命令</h2>


<hr />

<ul>
<li>多选        ctrl+v(mac), ctrl+q(windows/linux)</li>
<li>打开文件    :open filename</li>
<li>注释        NERD_commenter命令是\cc或,cc</li>
<li>解除注释     NERD_commenter命令是\cu或,cu</li>
<li>开启高亮    :syntax on</li>
<li>开启行号    :set number</li>
<li>跳转方法    cscope 的命令 ctl+]（必须先建立数据库和连接）</li>
<li>回退方法    cscope 的命令 ctl+t</li>
<li>跳到目录树  ctrl+w+h</li>
<li>跳回文件页  ctrl+w+l</li>
</ul>


<h2 id='2'>2 .vimrc配置文件</h2>


<hr />

<h3 id="2.1">2.1 基本配置说明</h3>


<p>以下内容复制到用户目录下的.vimrc文件，可以更改vim配置，使Vim更美观，更好用:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">set </span>nocompatible            <span class="s2">&quot; 关闭 vi 兼容模式</span>
</span><span class='line'><span class="s2"> syntax on                   &quot;</span> 自动语法高亮
</span><span class='line'>  colorscheme molokai         <span class="s2">&quot; 设定配色方案</span>
</span><span class='line'><span class="s2"> set number                  &quot;</span> 显示行号
</span><span class='line'>  <span class="nb">set </span>cursorline              <span class="s2">&quot; 突出显示当前行</span>
</span><span class='line'><span class="s2"> set ruler                   &quot;</span> 打开状态栏标尺
</span><span class='line'>  <span class="nb">set </span><span class="nv">shiftwidth</span><span class="o">=</span>4            <span class="s2">&quot; 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</span>
</span><span class='line'><span class="s2"> set softtabstop=4           &quot;</span> 使得按退格键时可以一次删掉 4 个空格
</span><span class='line'>  <span class="nb">set </span><span class="nv">tabstop</span><span class="o">=</span>4               <span class="s2">&quot; 设定 tab 长度为 4</span>
</span><span class='line'><span class="s2"> set nobackup                &quot;</span> 覆盖文件时不备份
</span><span class='line'>  <span class="nb">set </span>autochdir               <span class="s2">&quot; 自动切换当前目录为当前文件所在的目录</span>
</span><span class='line'><span class="s2"> filetype plugin indent on   &quot;</span> 开启插件
</span><span class='line'>  <span class="nb">set </span><span class="nv">backupcopy</span><span class="o">=</span>yes          <span class="s2">&quot; 设置备份时的行为为覆盖</span>
</span><span class='line'><span class="s2"> set ignorecase smartcase    &quot;</span> 搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感
</span><span class='line'>  <span class="nb">set </span>nowrapscan              <span class="s2">&quot; 禁止在搜索到文件两端时重新搜索</span>
</span><span class='line'><span class="s2"> set incsearch               &quot;</span> 输入搜索内容时就显示搜索结果
</span><span class='line'>  <span class="nb">set </span>hlsearch                <span class="s2">&quot; 搜索时高亮显示被找到的文本</span>
</span><span class='line'><span class="s2"> set noerrorbells            &quot;</span> 关闭错误信息响铃
</span><span class='line'>  <span class="nb">set </span>novisualbell            <span class="s2">&quot; 关闭使用可视响铃代替呼叫</span>
</span><span class='line'><span class="s2"> set t_vb=                   &quot;</span> 置空错误铃声的终端代码
</span><span class='line'>  <span class="s2">&quot; set showmatch               &quot;</span> 插入括号时，短暂地跳转到匹配的对应括号
</span><span class='line'>  <span class="s2">&quot; set matchtime=2             &quot;</span> 短暂跳转到匹配括号的时间
</span><span class='line'>  <span class="nb">set </span>magic                   <span class="s2">&quot; 设置魔术</span>
</span><span class='line'><span class="s2"> set hidden                  &quot;</span> 允许在有未保存的修改时切换缓冲区，此时的修改由 vim 负责保存
</span><span class='line'>  <span class="nb">set </span>guioptions-<span class="o">=</span>T           <span class="s2">&quot; 隐藏工具栏  （等号前后不能空格）</span>
</span><span class='line'><span class="s2"> set guioptions-=m           &quot;</span> 隐藏菜单栏
</span><span class='line'>  <span class="nb">set </span>smartindent             <span class="s2">&quot; 开启新行时使用智能自动缩进</span>
</span><span class='line'><span class="s2"> set backspace=indent,eol,start</span>
</span><span class='line'><span class="s2">                                                         &quot;</span> 不设定在插入状态无法用退格键和 Delete 键删除回车符
</span><span class='line'>  <span class="nb">set </span><span class="nv">cmdheight</span><span class="o">=</span>1             <span class="s2">&quot; 设定命令行的行数为 1</span>
</span><span class='line'><span class="s2"> set laststatus=2            &quot;</span> 显示状态栏 <span class="o">(</span>默认值为 1, 无法显示状态栏<span class="o">)</span>
</span><span class='line'>  <span class="nb">set </span><span class="nv">statusline</span><span class="o">=</span><span class="se">\ </span>%&lt;%F<span class="o">[</span>%1*%M%*%n%R%H<span class="o">]</span>%<span class="o">=</span><span class="se">\ </span>%y<span class="se">\ </span>%0<span class="o">(</span>%<span class="o">{</span>&amp;fileformat<span class="o">}</span><span class="se">\ </span>%<span class="o">{</span>&amp;encoding<span class="o">}</span><span class="se">\ </span>%c:%l/%L%<span class="o">)</span><span class="se">\</span>
</span><span class='line'>                                                          <span class="s2">&quot; 设置在状态行显示的信息</span>
</span><span class='line'><span class="s2"> set foldenable              &quot;</span> 开始折叠
</span><span class='line'>  <span class="nb">set </span><span class="nv">foldmethod</span><span class="o">=</span>syntax       <span class="s2">&quot; 设置语法折叠</span>
</span><span class='line'>
</span><span class='line'><span class="s2"> &quot;</span>窗口分割时,进行切换的按键热键需要连接两次,比如从下方窗口移动
</span><span class='line'>  <span class="s2">&quot;光标到上方窗口,需要&lt;c-w&gt;&lt;c-w&gt;k,非常麻烦,现在重映射为&lt;c-k&gt;,切换的</span>
</span><span class='line'><span class="s2"> &quot;</span>时候会变得非常方便.
</span><span class='line'>  nnoremap &lt;C-h&gt; &lt;C-w&gt;h
</span><span class='line'>  nnoremap &lt;C-j&gt; &lt;C-w&gt;j
</span><span class='line'>  nnoremap &lt;C-k&gt; &lt;C-w&gt;k
</span><span class='line'>  nnoremap &lt;C-l&gt; &lt;C-w&gt;l
</span></code></pre></td></tr></table></div></figure>




<br/>




<h3 id='2.2'>2.2 括号补全：</h3>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>   inoremap <span class="o">(</span>   <span class="o">()</span>&lt;Esc&gt;i               <span class="s2">&quot; inoremap表示输入模式下的匹配,当有&quot;</span><span class="o">(</span><span class="s2">&quot;时，匹配&quot;</span><span class="o">)</span><span class="s2">&quot;并退出重新进入&quot;</span>i编辑模式<span class="s2">&quot;</span>
</span><span class='line'><span class="s2"> inoremap [  []&lt;Esc&gt;i</span>
</span><span class='line'><span class="s2"> inoremap {  {}&lt;Esc&gt;i</span>
</span><span class='line'><span class="s2"> autocmd Syntax html,vim inoremap &lt; &lt;lt&gt;&gt;&lt;Esc&gt;i | inoremap &gt; &lt;c-r&gt;=ClosePair(&#39;&gt;&#39;)&lt;CR&gt;</span>
</span><span class='line'><span class="s2"> inoremap ) &lt;c-r&gt;=ClosePair(&#39;)&#39;)&lt;CR&gt;</span>
</span><span class='line'><span class="s2"> inoremap ] &lt;c-r&gt;=ClosePair(&#39;]&#39;)&lt;CR&gt;</span>
</span><span class='line'><span class="s2"> inoremap } &lt;c-r&gt;=CloseBracket()&lt;CR&gt;</span>
</span><span class='line'><span class="s2"> inoremap &quot;</span> &lt;c-r&gt;<span class="o">=</span>QuoteDelim<span class="o">(</span><span class="s1">&#39;&quot;&#39;</span><span class="o">)</span>&lt;CR&gt;
</span><span class='line'>  inoremap <span class="s1">&#39; &lt;c-r&gt;=QuoteDelim(&quot;&#39;</span><span class="s2">&quot;)&lt;CR&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s2"> function ClosePair(char)</span>
</span><span class='line'><span class="s2">     if getline(&#39;.&#39;)[col(&#39;.&#39;) - 1] == a:char</span>
</span><span class='line'><span class="s2">         return &quot;</span><span class="se">\&lt;</span>Right&gt;<span class="s2">&quot;</span>
</span><span class='line'><span class="s2">     else</span>
</span><span class='line'><span class="s2">         return a:char</span>
</span><span class='line'><span class="s2">     endif</span>
</span><span class='line'><span class="s2"> endf</span>
</span><span class='line'>
</span><span class='line'><span class="s2"> function CloseBracket()</span>
</span><span class='line'><span class="s2">     if match(getline(&#39;.&#39; + 1), &#39;\s*}&#39;) &lt; 0</span>
</span><span class='line'><span class="s2">         return &quot;</span><span class="se">\&lt;</span>CR&gt;<span class="o">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="s2">     else</span>
</span><span class='line'><span class="s2">         return &quot;</span><span class="se">\&lt;</span>Esc&gt;j0f<span class="o">}</span>a<span class="s2">&quot;</span>
</span><span class='line'><span class="s2">     endif</span>
</span><span class='line'><span class="s2"> endf</span>
</span><span class='line'>
</span><span class='line'><span class="s2"> function QuoteDelim(char)</span>
</span><span class='line'><span class="s2">     let line = getline(&#39;.&#39;)</span>
</span><span class='line'><span class="s2">     let col = col(&#39;.&#39;)</span>
</span><span class='line'><span class="s2">     if line[col-2] == &quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
</span><span class='line'><span class="s2">         &quot;</span>Inserting a quoted quotation mark into string
</span><span class='line'>          <span class="k">return </span>a:char
</span><span class='line'>      elseif line<span class="o">[</span>col-1<span class="o">]</span> <span class="o">==</span> a:char
</span><span class='line'>          <span class="s2">&quot;Escaping out of the string</span>
</span><span class='line'><span class="s2">         return &quot;</span><span class="se">\&lt;</span>Right&gt;<span class="s2">&quot;</span>
</span><span class='line'><span class="s2">     else</span>
</span><span class='line'><span class="s2">         &quot;</span>Starting a String
</span><span class='line'>          <span class="k">return </span>a:char.a:char.<span class="s2">&quot;\&lt;Esc&gt;i&quot;</span>
</span><span class='line'>      endif
</span><span class='line'>  endf
</span></code></pre></td></tr></table></div></figure>




<br/>


<br/>




<h2 id='3'>3 VIM 常用插件</h2>


<hr />

<h3 id='3.1'>3.1 NERDTree 目录树</h3>


<p>功能：用于展示目录树
安装：下载之后，在 .vim/ 目录中创建 plugin/ 和 doc/ 目录，</p>

<pre><code> 将 NERDTree.txt 放入 doc/，将 NERDTree.vim 放入 plugin/。
</code></pre>

<p>用法：<a href="https://www.jianshu.com/p/eXMxGx">https://www.jianshu.com/p/eXMxGx</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>   <span class="s2">&quot;-----------------------------------------------------------------</span>
</span><span class='line'><span class="s2"> &quot;</span> plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录
</span><span class='line'>  <span class="s2">&quot; :ERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree</span>
</span><span class='line'><span class="s2"> &quot;</span> o 打开关闭文件或者目录         t 在标签页中打开
</span><span class='line'>  <span class="s2">&quot; T 在后台标签页中打开           ! 执行此文件</span>
</span><span class='line'><span class="s2"> &quot;</span> p 到上层目录                   P 到根目录
</span><span class='line'>  <span class="s2">&quot; K 到第一个节点                 J 到最后一个节点</span>
</span><span class='line'><span class="s2"> &quot;</span> u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）
</span><span class='line'>  <span class="s2">&quot; r 递归刷新当前目录             R 递归刷新当前根目录</span>
</span><span class='line'><span class="s2"> &quot;</span>-----------------------------------------------------------------
</span><span class='line'>  <span class="err">&quot;</span> F3 NERDTree 切换
</span><span class='line'>  map &lt;F3&gt; :NERDTreeToggle&lt;CR&gt;
</span><span class='line'>  imap &lt;F3&gt; &lt;ESC&gt;:NERDTreeToggle&lt;CR&gt;
</span></code></pre></td></tr></table></div></figure>




<br/>




<h3 id='3.2'>3.2 NERDCommenter 注释</h3>


<p>功能：用于快速注释和解除注释，使用命令请查看顶部</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>   <span class="s2">&quot;-----------------------------------------------------------------</span>
</span><span class='line'><span class="s2"> &quot;</span> plugin - NERD_commenter.vim   注释代码用的，
</span><span class='line'>  <span class="s2">&quot; [count],cc 光标以下count行逐行添加注释(7,cc)</span>
</span><span class='line'><span class="s2"> &quot;</span> <span class="o">[</span>count<span class="o">]</span>,cu 光标以下count行逐行取消注释<span class="o">(</span>7,cu<span class="o">)</span>
</span><span class='line'>  <span class="s2">&quot; [count],cm 光标以下count行尝试添加块注释(7,cm)</span>
</span><span class='line'><span class="s2"> &quot;</span> ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释。
</span><span class='line'>  <span class="s2">&quot; 注：count参数可选，无则默认为选中行或当前行</span>
</span><span class='line'><span class="s2"> &quot;</span>-----------------------------------------------------------------
</span><span class='line'>  <span class="nb">let </span><span class="nv">NERDSpaceDelims</span><span class="o">=</span>1       <span class="s2">&quot; 让注释符与语句之间留一个空格</span>
</span><span class='line'><span class="s2"> let NERDCompactSexyComs=1   &quot;</span> 多行注释时样子更好看
</span></code></pre></td></tr></table></div></figure>




<br/>




<h3 id='3.3'>3.3 Scsope 跳转</h3>


<p>cscope 可以说是 ctags 的升级版本
功能：可以对函数以及部分类型定义进行跳转</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install cscope
</span></code></pre></td></tr></table></div></figure>


<p>使用举例：
在终端下，转到你源码的所在目录然后</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>cscope -Rbkq  &lt;回车&gt;
</span></code></pre></td></tr></table></div></figure>


<h5>参数说明：</h5>

<blockquote><p>R 表示把所有子目录里的文件也建立索引</p>

<p>b 表示cscope不启动自带的用户界面，而仅仅建立符号数据库</p>

<p>q 生成cscope.in.out和cscope.po.out文件，加快cscope的索引速度</p>

<p>k 在生成索引文件时，不搜索/usr/include目录</p></blockquote>

<p>之后会在当前目录生成几个文件，  cscope.in.out和cscope.po.out文件,cscope.out，</p>

<p>vim的normal模式下输入[建立cscope数据库]</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>:cs add cscope.out
</span></code></pre></td></tr></table></div></figure>


<p>或者在 .vimrc 中加入，这样每次打开vim就可以直接使用cscope了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="k">if </span>filereadable<span class="o">(</span><span class="s2">&quot;cscope.out&quot;</span><span class="o">)</span>
</span><span class='line'>    cs add cscope.out
</span><span class='line'>endif
</span></code></pre></td></tr></table></div></figure>


<p>默认情况下cscope值会在当前目录下针对c、iex和yacc（扩展名分别为.c、.h、.I、.y）程序文件进行解析（如果指定了-R参数则包含其自身的子目录）。
这样出现的问题就是，我们对于C++、Java、PHP 等文件怎么办，
解决方案是：我们可以生成一个名为cscope.finds的文件列表，并交由cscope去解析。
在Linux系统中，生成这个文件列表的方法是：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>find –name <span class="s2">&quot;*.php&quot;</span> &gt; cscope.files
</span></code></pre></td></tr></table></div></figure>


<p>然后运行下面命令 <strong>重新生成数据库</strong> 就OK了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>cscope –b
</span></code></pre></td></tr></table></div></figure>


<p>然后进入文件，输入你需要查找的方法，就会直接跳转到该方法：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>:cs find g checkStoreEmployee
</span></code></pre></td></tr></table></div></figure>


<p>也可以在 .vimrc 中加入：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="k">if </span>has<span class="o">(</span><span class="s2">&quot;cscope&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="nb">set </span><span class="nv">csprg</span><span class="o">=</span>/usr/local/bin/cscope
</span><span class='line'>
</span><span class='line'>  <span class="nb">set </span><span class="nv">csto</span><span class="o">=</span>0
</span><span class='line'>
</span><span class='line'>  <span class="nb">set </span>cst
</span><span class='line'>
</span><span class='line'>  <span class="nb">set </span>nocsverb
</span><span class='line'>
</span><span class='line'>  <span class="s2">&quot; add any database in current directory</span>
</span><span class='line'>
</span><span class='line'><span class="s2">  if filereadable(&quot;</span>cscope.out<span class="s2">&quot;)</span>
</span><span class='line'>
</span><span class='line'><span class="s2">    cs add cscope.out</span>
</span><span class='line'>
</span><span class='line'><span class="s2">    &quot;</span> <span class="k">else </span>add database pointed to by environment
</span><span class='line'>
</span><span class='line'>  elseif <span class="nv">$CSCOPE_DB</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>
</span><span class='line'>    cs add <span class="nv">$CSCOPE_DB</span>
</span><span class='line'>
</span><span class='line'>  endif
</span><span class='line'>
</span><span class='line'>  <span class="nb">set </span>csverb
</span><span class='line'>
</span><span class='line'>endif
</span></code></pre></td></tr></table></div></figure>


<p>在 vim normal 模式下执行：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>:source ~/.vimrc
</span></code></pre></td></tr></table></div></figure>


<p>即可方便使用 <code>ctl + ]</code>来快速跳到方法 和 <code>ctl + t</code> 回退到原方法。</p>

<br/>


<p><em>感谢使用vim配置，记住要将vim编辑器重启后才生效。</em></p>
</div>

<div class="meta">
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2019

    TsaiKoga
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'tsaikogablog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://TsaiKoga.github.com/blog/2013/10/22/vimpei-zhi/';
        var disqus_url = 'https://TsaiKoga.github.com/blog/2013/10/22/vimpei-zhi/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
